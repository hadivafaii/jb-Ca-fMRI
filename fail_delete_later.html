
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Load Original LFR &#8212; Ca-fMRI [Daily Progress]</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Ca-fMRI [Daily Progress]</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/intro.html">
   Welcome
  </a>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  February 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/feb21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/feb21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb21/feb-12-2021.html">
     February, 12th 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb21/feb-13-2021.html">
     February, 13th 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb21/feb-16-2021.html">
     February, 16th 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb21/feb-20-2021.html">
     February, 20th 2021
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  March 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/mar21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/mar21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/mar21/mar-10-2021.html">
     March 10th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/mar21/mar-13-2021.html">
     March 13th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/mar21/mar-15-2021.html">
     March 15th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/mar21/mar-16-2021.html">
     March 16th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/mar21/mar-18-2021.html">
     March 18th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/mar21/mar-19-2021.html">
     March 19th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/mar21/mar-26-2021.html">
     March 26th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/mar21/mar-29-2021.html">
     March 29th, 2021
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  April 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/apr21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/apr21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr21/apr-07-2021.html">
     April 7th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr21/apr-30-2021.html">
     April 30th, 2021
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  May 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/may21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/may21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/may21/may-08-2021.html">
     May 8th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/may21/may-09-2021.html">
     May 9th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/may21/may-11-2021.html">
     May 11th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/may21/may-12-2021.html">
     May 12th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/may21/may-20-2021.html">
     May 20th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/may21/may-24-2021.html">
     May 24th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/may21/may-31-2021.html">
     May 31st, 2021
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  June 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/jun21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/jun21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-05-2021.html">
     June 5th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-06-2021.html">
     June 6th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-07-2021.html">
     June 7th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-12-2021.html">
     June 12th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-13-2021.html">
     June 13th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-15-2021.html">
     June 15th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-17-2021.html">
     June 17th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-18-2021.html">
     June 18th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-19-2021.html">
     June 19th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-21-2021.html">
     June 21st, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-24-2021.html">
     June 24th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-26-2021.html">
     June, 26th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-29-2021.html">
     June 29th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jun21/jun-30-2021.html">
     June 30th, 2021
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  July 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/jul21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/jul21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jul21/jul-01-2021.html">
     July 1st, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jul21/jul-09-2021.html">
     July 9th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jul21/jul-11-2021.html">
     July 11th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jul21/jul-31-2021.html">
     July 31st, 2021
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  August 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/aug21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/aug21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/aug21/aug-21-2021.html">
     Aug 21st, 2021
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  September 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/sep21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/sep21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/sep21/sep-07-2021.html">
     Sep 7th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/sep21/sep-08-2021.html">
     Sep 8th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/sep21/sep-15-2021.html">
     Sep 15th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/sep21/sep-19-2021.html">
     Sep 19th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/sep21/sep-24-2021.html">
     Sep 24th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/sep21/sep-25-2021.html">
     Sep 25th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/sep21/sep-27-2021.html">
     Sep 27th, 2021
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  October 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/oct21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/oct21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-06-2021.html">
     October 6th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-10-2021.html">
     October 10th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-11-2021.html">
     October 11th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-12-2021.html">
     October 12th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-16-2021.html">
     October 16th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-17-2021.html">
     October 17th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-21-2021.html">
     October 21st, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-26-2021.html">
     October 26th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-27-2021.html">
     October 27th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-29-2021.html">
     October 29th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-30-2021.html">
     October 30th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/oct21/oct-31-2021.html">
     October 31th, 2021
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  November 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/nov21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/nov21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/nov21/nov-05-2021.html">
     November 5th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/nov21/nov-06-2021.html">
     November 6th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/nov21/nov-09-2021.html">
     November 9th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/nov21/nov-13-2021.html">
     November 13th, 2021
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/nov21/nov-24-2021.html">
     November 24th, 2021 (corr distrs)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/nov21/nov-26-2021.html">
     November 26th, 2021 (identify spikes)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/nov21/nov-29-2021.html">
     November 29th, 2021 (figs 1 and 2)
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  December 2021
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/dec21.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/dec21_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-01-2021.html">
     Dec 1st, 2021 (topo dist)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-04-2021.html">
     Dec 4th, 2021 (Binary vs Sample)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-06-2021.html">
     Dec 6th, 2021 (tSNR: Ca all plots)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-07-2021.html">
     Dec 7th, 2021 (tSNR: Ca)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-08-2021.html">
     Dec 8th, 2021 (scp2raw2npy)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-09-2021.html">
     Dec 9th, 2021 (tSNR: BOLD)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-10-2021.html">
     Dec 10th, 2021 (tSNR: identify bad areas)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-17-2021.html">
     Dec 17th, 2021 (GS all plots)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-18-2021.html">
     Dec 18th, 2021 (rabies)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-21-2021.html">
     Dec 21st, 2021 (ROI layers: concept)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-22-2021.html">
     Dec 22nd, 2021 (3-depths + render fns)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-24-2021.html">
     Dec 24th, 2021 (ROI layers: compare)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/dec21/dec-27-2021.html">
     Dec 27th, 2021 (Parcel viz 3D)
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  January 2022
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/jan22.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/jan22_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-03-2022.html">
     Jan 3rd, 2022 (Coreg ses play; fix 10_3)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-04-2022.html">
     Jan 4th, 2022 (Coreg ses)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-07-2022.html">
     Jan 7th, 2022 (rabies: 2nd stage)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-12-2022.html">
     Jan 12th, 2022 (voxel sz plots)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-13-2022.html">
     Jan 13th, 2022 (topo dist, best density)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-17-2022.html">
     Jan 17th, 2022 (Results at various thresholds, discussion on topology)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-19-2022.html">
     Jan 19th, 2022 (Hierarchical)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-22-2022.html">
     Jan 22nd, 2022 (degree dist, cartography)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-25-2022.html">
     Jan 25th, 2022 (debug boot + 2 anim draft)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-26-2022.html">
     Jan 26th, 2022 (cleaner figs, SE bug)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-27-2022.html">
     Jan 27th, 2022 (SE debug)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-28-2022.html">
     Jan 28th, 2022 (SE debug: cont.)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-29-2022.html">
     Jan 29th, 2022 (seed filter: draft)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-30-2022.html">
     Jan 30th, 2022 (seed filter)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/jan22/jan-31-2022.html">
     Jan 31st, 2022 (small memship vote: draft)
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  February 2022
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/feb22.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/feb22_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-01-2022.html">
     Feb 1st, 2022 (small memship vote)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-02-2022.html">
     Feb 2nd, 2022 (Mouse ICA)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-04-2022.html">
     Feb 4th, 2022 (plot bold+ca)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-06-2022.html">
     Feb 6th, 2022 (rabies: 3rd stage)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-07-2022.html">
     Feb 7th, 2022 (Structural Connectome)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-08-2022.html">
     Feb 08, 2022 (LED vs. REST; avg over runs)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-14-2022.html">
     Feb 14th, 2022 (pruned in grp)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-15a-2022.html">
     Feb 15th, 2022 (Smart adj plot)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-15b-2022.html">
     Feb 15th, 2022 (Smart adj plot; better)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-18-2022.html">
     Feb 18th, 2022 (upsample bold; corr timeseries)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-22-2022.html">
     Feb 22nd, 2022 (GLM Ca)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-24-2022.html">
     Feb 24th, 2022 (grant finalize)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-25a-2022.html">
     Feb 25th, 2022 (Figs 4 the talk)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-25b-2022.html">
     Feb 25th, 2022 (compare cosine, DMN)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-25c-2022.html">
     Feb 25th, 2022 (Entropy, carto)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-25d-2022.html">
     Feb 25th, 2022 (LFR reboot)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-25e-2022.html">
     Feb 25th, 2022 (ovp score, C_i; pie charts)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/feb22/feb-25f-2022.html">
     Feb 25th, 2022 (ROI plots)
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  March 2022
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/mar22.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/mar22_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/mar22/mar-05-2022.html">
     Mar 5th, 2022 (debug net; spearman &gt; pearson)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/mar22/mar-06-2022.html">
     Mar 6th, 2022 (Cartography, explored)
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption" role="heading">
 <span class="caption-text">
  April 2022
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="md/apr22.html">
   Summary
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="md/apr22_updates.html">
   Updates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-01-2022.html">
     Apr 1st, 2022 (props, pie, entropy, contour, carto)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-02-2022.html">
     Apr 2nd, 2022 (quality control: both modalities)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-03-2022.html">
     Apr 3rd, 2022 (copy files: rabies + ca)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-04-2022.html">
     Apr 4th, 2022 (ca ref; viz some t)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-05-2022.html">
     Apr 5th, 2022 (check co-registration perf)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-07-2022.html">
     Apr 7th, 2022 (Fig 4, OCs, cosine sim, DMN)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-11-2022.html">
     Apr 11th, 2022 (fix: affiliation)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-12-2022.html">
     Apr 12th, 2022 (ent fixed + some supp)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-13-2022.html">
     Apr 13th, 2022 (node &amp; oc overlap scores)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-14-2022.html">
     Apr 14th, 2022 (carto fixed + some supp)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-15-2022.html">
     Apr 15th, 2022 (parcellation fix)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="nb/apr22/apr-17-2022.html">
     April 17th, 2022 (register RABIES)
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/fail_delete_later.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/hadivafaii/Ca-fMRI"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/hadivafaii/Ca-fMRI/issues/new?title=Issue%20on%20page%20%2Ffail_delete_later.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/hadivafaii/Ca-fMRI/master?urlpath=tree/docs/fail_delete_later.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Load Original LFR
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lfr-original-no-overlap">
   LFR Original (no overlap)
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gct-code">
   GCT code
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-lfr">
   Load LFR
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   Load original LFR
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lfr-no-overlap">
   LFR no overlap
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lfr-no-overlap-2">
   LFR no overlap 2
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-ca-data">
   Load Ca data
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># HIDE CODE</span>


<span class="c1"># generic imports</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">nibabel</span> <span class="k">as</span> <span class="nn">nib</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">signal</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">pearsonr</span>
<span class="kn">from</span> <span class="nn">scipy.ndimage</span> <span class="kn">import</span> <span class="n">gaussian_filter</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span> <span class="k">as</span> <span class="n">pjoin</span>
<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">itemgetter</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.gridspec</span> <span class="kn">import</span> <span class="n">GridSpec</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">patches</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">cm</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>


<span class="c1"># Filter warnings</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">RuntimeWarning</span><span class="p">)</span> 

<span class="c1"># nx imports</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">networkx.algorithms.community</span> <span class="k">as</span> <span class="nn">nx_comm</span>
<span class="kn">from</span> <span class="nn">networkx.generators.random_graphs</span> <span class="kn">import</span> <span class="n">erdos_renyi_graph</span>
<span class="kn">from</span> <span class="nn">networkx.classes.function</span> <span class="kn">import</span> <span class="n">density</span>

<span class="c1"># Louvain etc</span>
<span class="kn">import</span> <span class="nn">community</span> <span class="k">as</span> <span class="nn">community_louvain</span>
<span class="kn">from</span> <span class="nn">cdlib</span> <span class="kn">import</span> <span class="n">algorithms</span>

<span class="c1"># network measures</span>
<span class="kn">from</span> <span class="nn">networkx.algorithms.cluster</span> <span class="kn">import</span> <span class="n">transitivity</span><span class="p">,</span> <span class="n">average_clustering</span>
<span class="kn">from</span> <span class="nn">networkx.algorithms.assortativity</span> <span class="kn">import</span> <span class="n">degree_pearson_correlation_coefficient</span>
<span class="kn">from</span> <span class="nn">networkx.algorithms.efficiency_measures</span> <span class="kn">import</span> <span class="n">global_efficiency</span><span class="p">,</span> <span class="n">local_efficiency</span>
<span class="kn">from</span> <span class="nn">networkx.algorithms.approximation.clique</span> <span class="kn">import</span> <span class="n">large_clique_size</span>
<span class="kn">from</span> <span class="nn">networkx.algorithms.shortest_paths.generic</span> <span class="kn">import</span> <span class="n">average_shortest_path_length</span>
<span class="kn">from</span> <span class="nn">networkx.algorithms.smallworld</span> <span class="kn">import</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">omega</span>

<span class="c1"># Dirs</span>
<span class="n">base_dir</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">],</span> <span class="s1">&#39;Documents/data&#39;</span><span class="p">)</span>
<span class="n">raw_dir</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s1">&#39;raw&#39;</span><span class="p">)</span>
<span class="n">processed_dir</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s1">&#39;processed&#39;</span><span class="p">)</span>

<span class="c1"># GitHub</span>
<span class="n">git_path</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">],</span> <span class="s1">&#39;Dropbox/git/Ca-fMRI/&#39;</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">git_path</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">simulation.simulation</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">utils.plotting</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">utils.processing</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">model.configuration</span> <span class="kn">import</span> <span class="n">ProcessConfig</span>


<span class="c1"># fix random stete</span>
<span class="n">RANDOM_STATE</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">RANDOM_STATE</span><span class="p">)</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">RANDOM_STATE</span><span class="p">)</span>
<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="n">RANDOM_STATE</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="load-original-lfr">
<h1>Load Original LFR<a class="headerlink" href="#load-original-lfr" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lfr_ws</span> <span class="o">=</span> <span class="s1">&#39;Documents/workspaces/lfr/weighted_overlapping/networks&#39;</span>
<span class="n">lfr_ws</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">],</span> <span class="n">lfr_ws</span><span class="p">)</span>
<span class="n">network_name</span> <span class="o">=</span> <span class="s1">&#39;001&#39;</span>

<span class="n">load_dir</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">,</span> <span class="n">network_name</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">load_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;community.dat&#39;, &#39;statistics.dat&#39;, &#39;network.dat&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">read_weighted_edgelist</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">load_dir</span><span class="p">,</span> <span class="s1">&#39;network.dat&#39;</span><span class="p">),</span> <span class="n">nodetype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">relabel_nodes</span><span class="p">(</span>
    <span class="n">G</span><span class="o">=</span><span class="n">g</span><span class="p">,</span>
    <span class="n">mapping</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">order</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)},</span>
    <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">adjacency_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">a</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">load_dir</span><span class="p">,</span> <span class="s1">&#39;community.dat&#39;</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>

<span class="n">membership</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">node</span><span class="p">,</span> <span class="n">mem</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">membership</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">mem</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)))</span>

<span class="n">community</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
<span class="n">partition</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">membership</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(6, 1000, 1000)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">comm_indxs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">community</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">comm_indxs</span><span class="p">]</span>
    <span class="n">comm_indxs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">comm_indxs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1000
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7fe63f1e32b0&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_7_1.png" src="_images/fail_delete_later_7_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Count&#39;&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_9_1.png" src="_images/fail_delete_later_9_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_overlap_nodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">membership</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
<span class="n">num_overlap_nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eigh</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">normalized_laplacian_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="n">ipr</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ipr</span> <span class="o">/=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ipr</span><span class="p">)</span>
<span class="n">sort_indxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

<span class="n">num_comm</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x7fe640c52ee0&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_12_1.png" src="_images/fail_delete_later_12_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">leading_eigenvec</span> <span class="o">=</span> <span class="n">v</span><span class="p">[:,</span> <span class="n">sort_indxs</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">leading_eigenvec</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7fe6417e2160&gt;]
</pre></div>
</div>
<img alt="_images/fail_delete_later_14_1.png" src="_images/fail_delete_later_14_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">partition_louvain</span> <span class="o">=</span> <span class="n">community_louvain</span><span class="o">.</span><span class="n">best_partition</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RANDOM_STATE</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_graph</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">partition_pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">partition_true</span><span class="o">=</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fail_delete_later_17_0.png" src="_images/fail_delete_later_17_0.png" />
</div>
</div>
</div>
<div class="section" id="lfr-original-no-overlap">
<h1>LFR Original (no overlap)<a class="headerlink" href="#lfr-original-no-overlap" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lfr_ws</span> <span class="o">=</span> <span class="s1">&#39;Documents/workspaces/lfr/weighted_overlapping/networks&#39;</span>
<span class="n">lfr_ws</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">],</span> <span class="n">lfr_ws</span><span class="p">)</span>
<span class="n">network_name</span> <span class="o">=</span> <span class="s1">&#39;002&#39;</span>

<span class="n">load_dir</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">,</span> <span class="n">network_name</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">load_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;community.dat&#39;, &#39;statistics.dat&#39;, &#39;network.dat&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">read_weighted_edgelist</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">load_dir</span><span class="p">,</span> <span class="s1">&#39;network.dat&#39;</span><span class="p">),</span> <span class="n">nodetype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">relabel_nodes</span><span class="p">(</span>
    <span class="n">G</span><span class="o">=</span><span class="n">g</span><span class="p">,</span>
    <span class="n">mapping</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">order</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)},</span>
    <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">adjacency_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">a</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">load_dir</span><span class="p">,</span> <span class="s1">&#39;community.dat&#39;</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>

<span class="n">membership</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">node</span><span class="p">,</span> <span class="n">mem</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">membership</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">mem</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)))</span>

<span class="n">community</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
<span class="n">partition</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">membership</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(3, 1000, 1000)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">comm_indxs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">community</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">comm_indxs</span><span class="p">]</span>
    <span class="n">comm_indxs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">comm_indxs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1000
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7fe641f05e50&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_26_1.png" src="_images/fail_delete_later_26_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Count&#39;&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_28_1.png" src="_images/fail_delete_later_28_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_overlap_nodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">membership</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
<span class="n">num_overlap_nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eigh</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">normalized_laplacian_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="n">ipr</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ipr</span> <span class="o">/=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ipr</span><span class="p">)</span>
<span class="n">sort_indxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

<span class="n">num_comm</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x7fe5bbd45940&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_31_1.png" src="_images/fail_delete_later_31_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">leading_eigenvec</span> <span class="o">=</span> <span class="n">v</span><span class="p">[:,</span> <span class="n">sort_indxs</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">leading_eigenvec</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7fe5bbd706d0&gt;]
</pre></div>
</div>
<img alt="_images/fail_delete_later_33_1.png" src="_images/fail_delete_later_33_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">partition_louvain</span> <span class="o">=</span> <span class="n">community_louvain</span><span class="o">.</span><span class="n">best_partition</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RANDOM_STATE</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_graph</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">partition_pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">partition_true</span><span class="o">=</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fail_delete_later_36_0.png" src="_images/fail_delete_later_36_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">community_pred</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="n">partition</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">community_pred</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">compare_partitions</span><span class="p">(</span><span class="n">true</span><span class="o">=</span><span class="n">partition</span><span class="p">,</span> <span class="n">pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.003287869686605631, 0.0052141881530933945, 0.0052141881530933945)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">pred</span> <span class="o">=</span> <span class="n">community_pred</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">true</span> <span class="o">=</span> <span class="n">community</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="n">match</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">true</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">pred</span><span class="p">)))</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">true</span><span class="p">)</span>   
<span class="n">match</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.34666667, 0.41304348, 0.36612022],
       [0.47555556, 0.34782609, 0.46994536],
       [0.17777778, 0.23913043, 0.16393443]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">idxs_louvain</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">community_pred</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">idxs_louvain</span><span class="p">][:,</span> <span class="n">idxs_louvain</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;antialiased&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7fe5bb5e9910&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_44_1.png" src="_images/fail_delete_later_44_1.png" />
</div>
</div>
</div>
<div class="section" id="gct-code">
<h1>GCT code<a class="headerlink" href="#gct-code" title="Permalink to this headline">¶</a></h1>
<p>Copy and paste the following code to GCT.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">gct</span><span class="o">.</span><span class="n">generate_random_ovp_graph_LFR</span><span class="p">(</span><span class="s1">&#39;lfr_n1000_k50&#39;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">maxk</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">mut</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">muw</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">t1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">t2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minc</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">maxc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">om</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">weighted</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">overide</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">gt</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">ground_truth</span><span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">]</span>
<span class="n">gt</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ground_truth.df&#39;</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">to_graph_networkx</span><span class="p">()</span>
<span class="n">nx</span><span class="o">.</span><span class="n">write_gpickle</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s1">&#39;graph.nx&#39;</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="section" id="load-lfr">
<h1>Load LFR<a class="headerlink" href="#load-lfr" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gct_ws</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">],</span> <span class="s1">&#39;Documents/workspaces/gct&#39;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">gct_ws</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;graph.nx&#39;, &#39;ground_truth.df&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">gct_ws</span><span class="p">,</span> <span class="s1">&#39;ground_truth.df&#39;</span><span class="p">))</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">read_gpickle</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">gct_ws</span><span class="p">,</span> <span class="s1">&#39;graph.nx&#39;</span><span class="p">))</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">adjacency_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">a</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">membership</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">gt</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">node</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">gt</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">gt</span><span class="p">))</span>
<span class="p">}</span>

<span class="n">community</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
<span class="n">partition</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>13
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">comm_indxs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">community</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">comm_indxs</span><span class="p">]</span>
    <span class="n">comm_indxs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">comm_indxs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1000
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7f84d9e75d30&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_69_1.png" src="_images/fail_delete_later_69_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Count&#39;&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_71_1.png" src="_images/fail_delete_later_71_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_overlap_nodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">membership</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
<span class="n">num_overlap_nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eigh</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">normalized_laplacian_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="n">ipr</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ipr</span> <span class="o">/=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ipr</span><span class="p">)</span>
<span class="n">sort_indxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

<span class="n">num_comm</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x7f84d811ec40&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_75_1.png" src="_images/fail_delete_later_75_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">leading_eigenvec</span> <span class="o">=</span> <span class="n">v</span><span class="p">[:,</span> <span class="n">sort_indxs</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">leading_eigenvec</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f84cc1ac670&gt;]
</pre></div>
</div>
<img alt="_images/fail_delete_later_77_1.png" src="_images/fail_delete_later_77_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">partition_louvain</span> <span class="o">=</span> <span class="n">community_louvain</span><span class="o">.</span><span class="n">best_partition</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RANDOM_STATE</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_graph</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">partition_pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">partition_true</span><span class="o">=</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fail_delete_later_80_0.png" src="_images/fail_delete_later_80_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">communities_louvain</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="n">partition</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">communities_louvain</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>11
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">compare_partitions</span><span class="p">(</span><span class="n">true</span><span class="o">=</span><span class="n">partition</span><span class="p">,</span> <span class="n">pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.004413725082748586, 0.03000610088834496, 0.03000610088834496)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id1">
<h1>Load original LFR<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lfr_ws</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">],</span> <span class="s1">&#39;Dropbox/git/LFR-Benchmark_UndirWeightOvp/results/t13t21.7&#39;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;lfr.nmc&#39;, &#39;lfr.nse&#39;, &#39;lfr.nst&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">read_weighted_edgelist</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">,</span> <span class="s1">&#39;lfr.nse&#39;</span><span class="p">),</span> <span class="n">nodetype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="n">mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">order</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)}</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">relabel_nodes</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">adjacency_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">a</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">,</span> <span class="s1">&#39;lfr.nmc&#39;</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>

<span class="n">membership</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">node</span><span class="p">,</span> <span class="n">mem</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">membership</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">mem</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)))</span>

<span class="n">community</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
<span class="n">partition</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">membership</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(5, 1000, 1000)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">comm_indxs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">community</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">comm_indxs</span><span class="p">]</span>
    <span class="n">comm_indxs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">comm_indxs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1000
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7f849e64ed60&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_97_1.png" src="_images/fail_delete_later_97_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Count&#39;&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_102_1.png" src="_images/fail_delete_later_102_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_overlap_nodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">membership</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
<span class="n">num_overlap_nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eigh</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">normalized_laplacian_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="n">ipr</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ipr</span> <span class="o">/=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ipr</span><span class="p">)</span>
<span class="n">sort_indxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

<span class="n">num_comm</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x7f84858deee0&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_105_1.png" src="_images/fail_delete_later_105_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">leading_eigenvec</span> <span class="o">=</span> <span class="n">v</span><span class="p">[:,</span> <span class="n">sort_indxs</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">leading_eigenvec</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f8446419340&gt;]
</pre></div>
</div>
<img alt="_images/fail_delete_later_107_1.png" src="_images/fail_delete_later_107_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">partition_louvain</span> <span class="o">=</span> <span class="n">community_louvain</span><span class="o">.</span><span class="n">best_partition</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RANDOM_STATE</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_graph</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">partition_pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">partition_true</span><span class="o">=</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fail_delete_later_110_0.png" src="_images/fail_delete_later_110_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">community_pred</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="n">partition</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">community_pred</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">compare_partitions</span><span class="p">(</span><span class="n">true</span><span class="o">=</span><span class="n">partition</span><span class="p">,</span> <span class="n">pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.007177942678098936, 0.011436703096110884, 0.011436703096110884)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">dict</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">partition_louvain</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: 0,
 1: 1,
 2: 1,
 3: 1,
 4: 1,
 5: 3,
 6: 0,
 7: 3,
 8: 3,
 9: 2,
 10: 3,
 11: 3,
 12: 1,
 13: 2,
 14: 2,
 15: 1,
 16: 1,
 17: 3,
 18: 0,
 19: 2,
 20: 0,
 21: 1,
 22: 2,
 23: 3,
 24: 0,
 25: 1,
 26: 1,
 27: 0,
 28: 2,
 29: 1,
 30: 2,
 31: 2,
 32: 2,
 33: 2,
 34: 3,
 35: 1,
 36: 2,
 37: 2,
 38: 1,
 39: 0,
 40: 3,
 41: 1,
 42: 2,
 43: 1,
 44: 2,
 45: 1,
 46: 2,
 47: 2,
 48: 3,
 49: 3,
 50: 2,
 51: 2,
 52: 3,
 53: 2,
 54: 0,
 55: 2,
 56: 2,
 57: 1,
 58: 1,
 59: 2,
 60: 2,
 61: 1,
 62: 0,
 63: 0,
 64: 0,
 65: 2,
 66: 1,
 67: 1,
 68: 2,
 69: 2,
 70: 1,
 71: 2,
 72: 3,
 73: 3,
 74: 2,
 75: 2,
 76: 3,
 77: 0,
 78: 3,
 79: 1,
 80: 0,
 81: 2,
 82: 1,
 83: 1,
 84: 2,
 85: 1,
 86: 1,
 87: 2,
 88: 1,
 89: 1,
 90: 1,
 91: 2,
 92: 0,
 93: 1,
 94: 2,
 95: 3,
 96: 3,
 97: 1,
 98: 1,
 99: 3,
 100: 1,
 101: 2,
 102: 2,
 103: 2,
 104: 3,
 105: 2,
 106: 2,
 107: 1,
 108: 1,
 109: 1,
 110: 2,
 111: 1,
 112: 1,
 113: 2,
 114: 1,
 115: 1,
 116: 1,
 117: 1,
 118: 0,
 119: 3,
 120: 2,
 121: 0,
 122: 1,
 123: 2,
 124: 2,
 125: 3,
 126: 2,
 127: 1,
 128: 1,
 129: 1,
 130: 1,
 131: 1,
 132: 0,
 133: 2,
 134: 1,
 135: 0,
 136: 1,
 137: 3,
 138: 1,
 139: 0,
 140: 0,
 141: 0,
 142: 2,
 143: 2,
 144: 2,
 145: 1,
 146: 1,
 147: 2,
 148: 0,
 149: 2,
 150: 0,
 151: 2,
 152: 3,
 153: 2,
 154: 2,
 155: 1,
 156: 3,
 157: 2,
 158: 2,
 159: 3,
 160: 1,
 161: 0,
 162: 3,
 163: 1,
 164: 1,
 165: 2,
 166: 2,
 167: 2,
 168: 1,
 169: 1,
 170: 1,
 171: 3,
 172: 2,
 173: 2,
 174: 1,
 175: 3,
 176: 0,
 177: 1,
 178: 0,
 179: 2,
 180: 2,
 181: 1,
 182: 3,
 183: 2,
 184: 2,
 185: 0,
 186: 2,
 187: 1,
 188: 1,
 189: 3,
 190: 3,
 191: 1,
 192: 2,
 193: 0,
 194: 2,
 195: 0,
 196: 1,
 197: 1,
 198: 3,
 199: 2,
 200: 2,
 201: 2,
 202: 3,
 203: 1,
 204: 1,
 205: 2,
 206: 1,
 207: 1,
 208: 0,
 209: 2,
 210: 0,
 211: 0,
 212: 0,
 213: 2,
 214: 2,
 215: 1,
 216: 0,
 217: 1,
 218: 0,
 219: 1,
 220: 0,
 221: 1,
 222: 3,
 223: 0,
 224: 2,
 225: 1,
 226: 1,
 227: 3,
 228: 0,
 229: 3,
 230: 1,
 231: 1,
 232: 2,
 233: 1,
 234: 1,
 235: 3,
 236: 2,
 237: 2,
 238: 0,
 239: 0,
 240: 2,
 241: 3,
 242: 0,
 243: 0,
 244: 3,
 245: 1,
 246: 2,
 247: 2,
 248: 2,
 249: 3,
 250: 0,
 251: 0,
 252: 2,
 253: 2,
 254: 3,
 255: 0,
 256: 0,
 257: 1,
 258: 2,
 259: 1,
 260: 0,
 261: 3,
 262: 2,
 263: 1,
 264: 1,
 265: 3,
 266: 0,
 267: 1,
 268: 1,
 269: 3,
 270: 3,
 271: 2,
 272: 3,
 273: 2,
 274: 2,
 275: 3,
 276: 1,
 277: 0,
 278: 3,
 279: 2,
 280: 1,
 281: 2,
 282: 2,
 283: 1,
 284: 1,
 285: 0,
 286: 0,
 287: 3,
 288: 0,
 289: 0,
 290: 2,
 291: 1,
 292: 2,
 293: 2,
 294: 2,
 295: 2,
 296: 1,
 297: 1,
 298: 1,
 299: 3,
 300: 1,
 301: 2,
 302: 3,
 303: 0,
 304: 0,
 305: 1,
 306: 1,
 307: 0,
 308: 3,
 309: 1,
 310: 3,
 311: 2,
 312: 2,
 313: 1,
 314: 3,
 315: 1,
 316: 3,
 317: 0,
 318: 0,
 319: 1,
 320: 2,
 321: 1,
 322: 2,
 323: 1,
 324: 2,
 325: 1,
 326: 1,
 327: 1,
 328: 2,
 329: 1,
 330: 2,
 331: 2,
 332: 3,
 333: 0,
 334: 1,
 335: 2,
 336: 0,
 337: 3,
 338: 1,
 339: 2,
 340: 2,
 341: 3,
 342: 1,
 343: 2,
 344: 1,
 345: 0,
 346: 0,
 347: 0,
 348: 1,
 349: 1,
 350: 1,
 351: 2,
 352: 1,
 353: 1,
 354: 2,
 355: 1,
 356: 0,
 357: 1,
 358: 1,
 359: 0,
 360: 0,
 361: 1,
 362: 2,
 363: 2,
 364: 0,
 365: 1,
 366: 1,
 367: 0,
 368: 2,
 369: 3,
 370: 3,
 371: 0,
 372: 1,
 373: 3,
 374: 1,
 375: 1,
 376: 1,
 377: 3,
 378: 1,
 379: 1,
 380: 0,
 381: 1,
 382: 2,
 383: 3,
 384: 1,
 385: 0,
 386: 2,
 387: 0,
 388: 1,
 389: 2,
 390: 2,
 391: 2,
 392: 2,
 393: 1,
 394: 3,
 395: 2,
 396: 1,
 397: 3,
 398: 0,
 399: 1,
 400: 1,
 401: 0,
 402: 1,
 403: 0,
 404: 2,
 405: 1,
 406: 1,
 407: 0,
 408: 1,
 409: 1,
 410: 3,
 411: 1,
 412: 2,
 413: 3,
 414: 1,
 415: 2,
 416: 1,
 417: 2,
 418: 2,
 419: 2,
 420: 2,
 421: 1,
 422: 0,
 423: 1,
 424: 1,
 425: 2,
 426: 1,
 427: 1,
 428: 0,
 429: 0,
 430: 1,
 431: 1,
 432: 0,
 433: 1,
 434: 0,
 435: 0,
 436: 1,
 437: 0,
 438: 2,
 439: 1,
 440: 3,
 441: 3,
 442: 2,
 443: 3,
 444: 2,
 445: 0,
 446: 0,
 447: 3,
 448: 2,
 449: 0,
 450: 2,
 451: 2,
 452: 1,
 453: 1,
 454: 2,
 455: 2,
 456: 2,
 457: 3,
 458: 2,
 459: 1,
 460: 3,
 461: 0,
 462: 1,
 463: 2,
 464: 1,
 465: 0,
 466: 2,
 467: 1,
 468: 0,
 469: 3,
 470: 1,
 471: 3,
 472: 0,
 473: 3,
 474: 3,
 475: 2,
 476: 1,
 477: 2,
 478: 1,
 479: 3,
 480: 1,
 481: 1,
 482: 1,
 483: 2,
 484: 0,
 485: 0,
 486: 0,
 487: 2,
 488: 1,
 489: 3,
 490: 0,
 491: 2,
 492: 1,
 493: 0,
 494: 1,
 495: 0,
 496: 2,
 497: 2,
 498: 0,
 499: 0,
 500: 0,
 501: 1,
 502: 0,
 503: 1,
 504: 0,
 505: 2,
 506: 1,
 507: 2,
 508: 0,
 509: 2,
 510: 1,
 511: 3,
 512: 1,
 513: 2,
 514: 0,
 515: 2,
 516: 1,
 517: 0,
 518: 0,
 519: 2,
 520: 1,
 521: 2,
 522: 0,
 523: 1,
 524: 3,
 525: 1,
 526: 1,
 527: 2,
 528: 3,
 529: 0,
 530: 2,
 531: 0,
 532: 2,
 533: 3,
 534: 1,
 535: 2,
 536: 2,
 537: 0,
 538: 1,
 539: 1,
 540: 3,
 541: 0,
 542: 1,
 543: 1,
 544: 2,
 545: 0,
 546: 1,
 547: 1,
 548: 1,
 549: 1,
 550: 2,
 551: 2,
 552: 1,
 553: 2,
 554: 1,
 555: 2,
 556: 2,
 557: 1,
 558: 1,
 559: 2,
 560: 1,
 561: 2,
 562: 0,
 563: 2,
 564: 1,
 565: 1,
 566: 1,
 567: 2,
 568: 0,
 569: 1,
 570: 2,
 571: 1,
 572: 2,
 573: 3,
 574: 1,
 575: 0,
 576: 1,
 577: 3,
 578: 1,
 579: 0,
 580: 1,
 581: 1,
 582: 1,
 583: 1,
 584: 1,
 585: 1,
 586: 2,
 587: 1,
 588: 0,
 589: 1,
 590: 0,
 591: 3,
 592: 1,
 593: 0,
 594: 0,
 595: 3,
 596: 0,
 597: 2,
 598: 0,
 599: 1,
 600: 0,
 601: 0,
 602: 0,
 603: 3,
 604: 1,
 605: 1,
 606: 2,
 607: 1,
 608: 1,
 609: 1,
 610: 1,
 611: 0,
 612: 1,
 613: 2,
 614: 2,
 615: 1,
 616: 2,
 617: 2,
 618: 2,
 619: 2,
 620: 2,
 621: 0,
 622: 1,
 623: 2,
 624: 1,
 625: 3,
 626: 1,
 627: 2,
 628: 1,
 629: 0,
 630: 0,
 631: 2,
 632: 0,
 633: 2,
 634: 3,
 635: 3,
 636: 1,
 637: 3,
 638: 0,
 639: 1,
 640: 2,
 641: 2,
 642: 3,
 643: 2,
 644: 2,
 645: 1,
 646: 2,
 647: 0,
 648: 0,
 649: 2,
 650: 0,
 651: 1,
 652: 0,
 653: 3,
 654: 3,
 655: 2,
 656: 1,
 657: 3,
 658: 3,
 659: 1,
 660: 2,
 661: 3,
 662: 1,
 663: 0,
 664: 2,
 665: 2,
 666: 1,
 667: 2,
 668: 2,
 669: 0,
 670: 1,
 671: 3,
 672: 1,
 673: 3,
 674: 3,
 675: 1,
 676: 0,
 677: 1,
 678: 1,
 679: 2,
 680: 2,
 681: 1,
 682: 1,
 683: 2,
 684: 0,
 685: 3,
 686: 0,
 687: 3,
 688: 3,
 689: 2,
 690: 2,
 691: 0,
 692: 3,
 693: 2,
 694: 1,
 695: 0,
 696: 0,
 697: 0,
 698: 1,
 699: 0,
 700: 2,
 701: 1,
 702: 1,
 703: 3,
 704: 1,
 705: 1,
 706: 2,
 707: 3,
 708: 1,
 709: 3,
 710: 0,
 711: 1,
 712: 0,
 713: 0,
 714: 2,
 715: 2,
 716: 1,
 717: 0,
 718: 2,
 719: 2,
 720: 3,
 721: 0,
 722: 3,
 723: 0,
 724: 1,
 725: 3,
 726: 2,
 727: 2,
 728: 0,
 729: 0,
 730: 1,
 731: 2,
 732: 1,
 733: 0,
 734: 2,
 735: 1,
 736: 1,
 737: 0,
 738: 2,
 739: 0,
 740: 2,
 741: 0,
 742: 0,
 743: 0,
 744: 2,
 745: 2,
 746: 2,
 747: 0,
 748: 2,
 749: 3,
 750: 2,
 751: 2,
 752: 2,
 753: 2,
 754: 3,
 755: 3,
 756: 0,
 757: 0,
 758: 3,
 759: 0,
 760: 2,
 761: 2,
 762: 3,
 763: 2,
 764: 1,
 765: 3,
 766: 2,
 767: 2,
 768: 0,
 769: 2,
 770: 0,
 771: 3,
 772: 0,
 773: 0,
 774: 3,
 775: 2,
 776: 2,
 777: 0,
 778: 0,
 779: 1,
 780: 2,
 781: 1,
 782: 0,
 783: 2,
 784: 2,
 785: 0,
 786: 2,
 787: 1,
 788: 2,
 789: 0,
 790: 1,
 791: 2,
 792: 2,
 793: 0,
 794: 1,
 795: 1,
 796: 2,
 797: 0,
 798: 1,
 799: 2,
 800: 0,
 801: 2,
 802: 2,
 803: 0,
 804: 1,
 805: 0,
 806: 0,
 807: 2,
 808: 2,
 809: 2,
 810: 2,
 811: 0,
 812: 0,
 813: 0,
 814: 0,
 815: 2,
 816: 2,
 817: 2,
 818: 0,
 819: 0,
 820: 2,
 821: 2,
 822: 0,
 823: 0,
 824: 0,
 825: 0,
 826: 0,
 827: 1,
 828: 0,
 829: 2,
 830: 2,
 831: 2,
 832: 1,
 833: 2,
 834: 0,
 835: 0,
 836: 2,
 837: 0,
 838: 2,
 839: 2,
 840: 2,
 841: 1,
 842: 1,
 843: 2,
 844: 2,
 845: 2,
 846: 0,
 847: 0,
 848: 2,
 849: 0,
 850: 1,
 851: 0,
 852: 0,
 853: 1,
 854: 0,
 855: 2,
 856: 2,
 857: 2,
 858: 0,
 859: 0,
 860: 1,
 861: 0,
 862: 2,
 863: 2,
 864: 0,
 865: 2,
 866: 0,
 867: 2,
 868: 0,
 869: 0,
 870: 2,
 871: 0,
 872: 0,
 873: 1,
 874: 2,
 875: 2,
 876: 1,
 877: 2,
 878: 0,
 879: 2,
 880: 0,
 881: 0,
 882: 0,
 883: 0,
 884: 0,
 885: 0,
 886: 2,
 887: 2,
 888: 2,
 889: 2,
 890: 2,
 891: 2,
 892: 0,
 893: 1,
 894: 2,
 895: 0,
 896: 2,
 897: 0,
 898: 0,
 899: 2,
 900: 0,
 901: 1,
 902: 1,
 903: 1,
 904: 1,
 905: 0,
 906: 2,
 907: 0,
 908: 0,
 909: 1,
 910: 2,
 911: 2,
 912: 1,
 913: 0,
 914: 0,
 915: 0,
 916: 2,
 917: 2,
 918: 2,
 919: 0,
 920: 0,
 921: 0,
 922: 1,
 923: 0,
 924: 0,
 925: 2,
 926: 0,
 927: 0,
 928: 2,
 929: 2,
 930: 0,
 931: 0,
 932: 2,
 933: 2,
 934: 0,
 935: 2,
 936: 0,
 937: 1,
 938: 2,
 939: 2,
 940: 2,
 941: 2,
 942: 2,
 943: 2,
 944: 2,
 945: 2,
 946: 2,
 947: 2,
 948: 2,
 949: 1,
 950: 2,
 951: 2,
 952: 2,
 953: 2,
 954: 2,
 955: 2,
 956: 2,
 957: 2,
 958: 1,
 959: 2,
 960: 2,
 961: 2,
 962: 2,
 963: 2,
 964: 2,
 965: 2,
 966: 1,
 967: 2,
 968: 1,
 969: 2,
 970: 2,
 971: 2,
 972: 2,
 973: 2,
 974: 2,
 975: 2,
 976: 1,
 977: 2,
 978: 1,
 979: 2,
 980: 2,
 981: 2,
 982: 1,
 983: 2,
 984: 2,
 985: 1,
 986: 1,
 987: 1,
 988: 2,
 989: 2,
 990: 2,
 991: 2,
 992: 1,
 993: 2,
 994: 1,
 995: 2,
 996: 2,
 997: 2,
 998: 2,
 999: 2}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">partition</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: 4,
 1: 3,
 2: 3,
 3: 3,
 4: 3,
 5: 2,
 6: 4,
 7: 2,
 8: 2,
 9: 0,
 10: 2,
 11: 2,
 12: 1,
 13: 0,
 14: 0,
 15: 0,
 16: 1,
 17: 2,
 18: 4,
 19: 0,
 20: 4,
 21: 3,
 22: 0,
 23: 2,
 24: 4,
 25: 2,
 26: 3,
 27: 4,
 28: 0,
 29: 1,
 30: 0,
 31: 0,
 32: 0,
 33: 0,
 34: 2,
 35: 3,
 36: 0,
 37: 0,
 38: 3,
 39: 4,
 40: 2,
 41: 1,
 42: 0,
 43: 1,
 44: 0,
 45: 1,
 46: 0,
 47: 0,
 48: 2,
 49: 2,
 50: 0,
 51: 0,
 52: 2,
 53: 0,
 54: 4,
 55: 0,
 56: 0,
 57: 3,
 58: 1,
 59: 0,
 60: 0,
 61: 0,
 62: 4,
 63: 4,
 64: 4,
 65: 0,
 66: 1,
 67: 1,
 68: 0,
 69: 0,
 70: 1,
 71: 0,
 72: 2,
 73: 2,
 74: 0,
 75: 0,
 76: 2,
 77: 4,
 78: 2,
 79: 3,
 80: 4,
 81: 0,
 82: 1,
 83: 3,
 84: 0,
 85: 2,
 86: 1,
 87: 0,
 88: 1,
 89: 1,
 90: 1,
 91: 0,
 92: 4,
 93: 1,
 94: 0,
 95: 2,
 96: 2,
 97: 3,
 98: 1,
 99: 2,
 100: 4,
 101: 0,
 102: 0,
 103: 0,
 104: 2,
 105: 0,
 106: 0,
 107: 3,
 108: 3,
 109: 1,
 110: 0,
 111: 3,
 112: 1,
 113: 0,
 114: 1,
 115: 1,
 116: 1,
 117: 4,
 118: 4,
 119: 2,
 120: 0,
 121: 4,
 122: 3,
 123: 0,
 124: 0,
 125: 2,
 126: 0,
 127: 1,
 128: 3,
 129: 1,
 130: 1,
 131: 3,
 132: 4,
 133: 0,
 134: 1,
 135: 4,
 136: 4,
 137: 2,
 138: 1,
 139: 4,
 140: 4,
 141: 4,
 142: 0,
 143: 0,
 144: 0,
 145: 3,
 146: 3,
 147: 0,
 148: 4,
 149: 0,
 150: 4,
 151: 0,
 152: 2,
 153: 0,
 154: 0,
 155: 1,
 156: 2,
 157: 0,
 158: 0,
 159: 2,
 160: 1,
 161: 4,
 162: 2,
 163: 1,
 164: 1,
 165: 0,
 166: 0,
 167: 0,
 168: 3,
 169: 1,
 170: 1,
 171: 2,
 172: 0,
 173: 0,
 174: 4,
 175: 2,
 176: 4,
 177: 3,
 178: 4,
 179: 0,
 180: 0,
 181: 1,
 182: 2,
 183: 0,
 184: 0,
 185: 4,
 186: 0,
 187: 2,
 188: 1,
 189: 2,
 190: 2,
 191: 1,
 192: 0,
 193: 4,
 194: 0,
 195: 4,
 196: 1,
 197: 3,
 198: 2,
 199: 0,
 200: 0,
 201: 0,
 202: 2,
 203: 1,
 204: 3,
 205: 0,
 206: 1,
 207: 3,
 208: 4,
 209: 0,
 210: 4,
 211: 4,
 212: 4,
 213: 0,
 214: 0,
 215: 1,
 216: 4,
 217: 3,
 218: 4,
 219: 4,
 220: 4,
 221: 1,
 222: 2,
 223: 4,
 224: 0,
 225: 1,
 226: 3,
 227: 2,
 228: 4,
 229: 2,
 230: 1,
 231: 3,
 232: 0,
 233: 1,
 234: 4,
 235: 2,
 236: 0,
 237: 0,
 238: 4,
 239: 4,
 240: 0,
 241: 2,
 242: 4,
 243: 4,
 244: 2,
 245: 3,
 246: 0,
 247: 0,
 248: 0,
 249: 2,
 250: 4,
 251: 4,
 252: 0,
 253: 0,
 254: 2,
 255: 4,
 256: 4,
 257: 1,
 258: 0,
 259: 1,
 260: 4,
 261: 2,
 262: 0,
 263: 3,
 264: 2,
 265: 2,
 266: 4,
 267: 3,
 268: 1,
 269: 2,
 270: 2,
 271: 0,
 272: 2,
 273: 0,
 274: 0,
 275: 2,
 276: 1,
 277: 4,
 278: 2,
 279: 0,
 280: 3,
 281: 0,
 282: 0,
 283: 1,
 284: 0,
 285: 4,
 286: 4,
 287: 2,
 288: 4,
 289: 4,
 290: 0,
 291: 3,
 292: 0,
 293: 0,
 294: 0,
 295: 0,
 296: 1,
 297: 3,
 298: 3,
 299: 2,
 300: 3,
 301: 0,
 302: 2,
 303: 4,
 304: 4,
 305: 3,
 306: 3,
 307: 4,
 308: 2,
 309: 0,
 310: 2,
 311: 0,
 312: 0,
 313: 1,
 314: 2,
 315: 1,
 316: 2,
 317: 4,
 318: 4,
 319: 3,
 320: 0,
 321: 3,
 322: 0,
 323: 2,
 324: 0,
 325: 1,
 326: 4,
 327: 3,
 328: 0,
 329: 3,
 330: 0,
 331: 0,
 332: 2,
 333: 4,
 334: 1,
 335: 0,
 336: 4,
 337: 2,
 338: 1,
 339: 0,
 340: 0,
 341: 2,
 342: 1,
 343: 0,
 344: 2,
 345: 4,
 346: 4,
 347: 4,
 348: 3,
 349: 3,
 350: 1,
 351: 0,
 352: 3,
 353: 3,
 354: 0,
 355: 3,
 356: 4,
 357: 3,
 358: 3,
 359: 4,
 360: 4,
 361: 1,
 362: 0,
 363: 0,
 364: 4,
 365: 3,
 366: 3,
 367: 4,
 368: 0,
 369: 2,
 370: 2,
 371: 4,
 372: 3,
 373: 2,
 374: 3,
 375: 3,
 376: 1,
 377: 2,
 378: 1,
 379: 3,
 380: 4,
 381: 0,
 382: 0,
 383: 2,
 384: 1,
 385: 4,
 386: 0,
 387: 4,
 388: 1,
 389: 0,
 390: 0,
 391: 0,
 392: 0,
 393: 1,
 394: 2,
 395: 0,
 396: 3,
 397: 2,
 398: 4,
 399: 1,
 400: 3,
 401: 4,
 402: 2,
 403: 4,
 404: 0,
 405: 1,
 406: 3,
 407: 4,
 408: 1,
 409: 1,
 410: 2,
 411: 3,
 412: 0,
 413: 2,
 414: 3,
 415: 0,
 416: 1,
 417: 0,
 418: 0,
 419: 0,
 420: 0,
 421: 2,
 422: 4,
 423: 1,
 424: 3,
 425: 0,
 426: 1,
 427: 1,
 428: 4,
 429: 4,
 430: 0,
 431: 1,
 432: 4,
 433: 1,
 434: 4,
 435: 4,
 436: 3,
 437: 4,
 438: 0,
 439: 1,
 440: 2,
 441: 2,
 442: 0,
 443: 2,
 444: 0,
 445: 4,
 446: 4,
 447: 2,
 448: 0,
 449: 4,
 450: 0,
 451: 0,
 452: 3,
 453: 3,
 454: 0,
 455: 0,
 456: 0,
 457: 2,
 458: 0,
 459: 3,
 460: 2,
 461: 4,
 462: 3,
 463: 0,
 464: 1,
 465: 4,
 466: 0,
 467: 1,
 468: 4,
 469: 2,
 470: 2,
 471: 2,
 472: 4,
 473: 2,
 474: 2,
 475: 0,
 476: 3,
 477: 0,
 478: 1,
 479: 2,
 480: 1,
 481: 1,
 482: 1,
 483: 0,
 484: 4,
 485: 4,
 486: 4,
 487: 0,
 488: 4,
 489: 2,
 490: 4,
 491: 0,
 492: 1,
 493: 4,
 494: 1,
 495: 4,
 496: 0,
 497: 0,
 498: 4,
 499: 4,
 500: 4,
 501: 0,
 502: 4,
 503: 3,
 504: 4,
 505: 0,
 506: 1,
 507: 0,
 508: 4,
 509: 0,
 510: 1,
 511: 2,
 512: 3,
 513: 0,
 514: 4,
 515: 0,
 516: 1,
 517: 4,
 518: 4,
 519: 0,
 520: 3,
 521: 0,
 522: 4,
 523: 3,
 524: 2,
 525: 3,
 526: 3,
 527: 0,
 528: 2,
 529: 4,
 530: 0,
 531: 4,
 532: 0,
 533: 2,
 534: 3,
 535: 0,
 536: 0,
 537: 4,
 538: 1,
 539: 3,
 540: 2,
 541: 4,
 542: 1,
 543: 3,
 544: 0,
 545: 4,
 546: 1,
 547: 3,
 548: 1,
 549: 1,
 550: 0,
 551: 0,
 552: 2,
 553: 0,
 554: 1,
 555: 0,
 556: 0,
 557: 3,
 558: 1,
 559: 0,
 560: 3,
 561: 0,
 562: 4,
 563: 0,
 564: 1,
 565: 3,
 566: 1,
 567: 0,
 568: 4,
 569: 1,
 570: 0,
 571: 1,
 572: 0,
 573: 2,
 574: 1,
 575: 4,
 576: 3,
 577: 2,
 578: 3,
 579: 4,
 580: 3,
 581: 1,
 582: 3,
 583: 3,
 584: 3,
 585: 3,
 586: 0,
 587: 2,
 588: 4,
 589: 1,
 590: 4,
 591: 2,
 592: 1,
 593: 4,
 594: 4,
 595: 2,
 596: 4,
 597: 0,
 598: 4,
 599: 1,
 600: 4,
 601: 4,
 602: 4,
 603: 2,
 604: 4,
 605: 3,
 606: 0,
 607: 2,
 608: 1,
 609: 1,
 610: 3,
 611: 4,
 612: 1,
 613: 0,
 614: 0,
 615: 1,
 616: 0,
 617: 0,
 618: 0,
 619: 0,
 620: 0,
 621: 4,
 622: 1,
 623: 0,
 624: 4,
 625: 2,
 626: 1,
 627: 0,
 628: 1,
 629: 4,
 630: 4,
 631: 0,
 632: 4,
 633: 0,
 634: 2,
 635: 2,
 636: 1,
 637: 2,
 638: 4,
 639: 1,
 640: 0,
 641: 0,
 642: 2,
 643: 0,
 644: 0,
 645: 0,
 646: 0,
 647: 4,
 648: 4,
 649: 0,
 650: 4,
 651: 1,
 652: 4,
 653: 2,
 654: 2,
 655: 0,
 656: 2,
 657: 2,
 658: 2,
 659: 2,
 660: 0,
 661: 2,
 662: 1,
 663: 4,
 664: 0,
 665: 0,
 666: 1,
 667: 0,
 668: 0,
 669: 4,
 670: 1,
 671: 2,
 672: 1,
 673: 2,
 674: 2,
 675: 1,
 676: 4,
 677: 4,
 678: 1,
 679: 0,
 680: 0,
 681: 1,
 682: 1,
 683: 0,
 684: 4,
 685: 2,
 686: 4,
 687: 2,
 688: 2,
 689: 0,
 690: 0,
 691: 4,
 692: 2,
 693: 0,
 694: 1,
 695: 4,
 696: 4,
 697: 4,
 698: 1,
 699: 4,
 700: 0,
 701: 1,
 702: 1,
 703: 2,
 704: 4,
 705: 1,
 706: 0,
 707: 2,
 708: 3,
 709: 2,
 710: 4,
 711: 1,
 712: 4,
 713: 4,
 714: 0,
 715: 0,
 716: 0,
 717: 4,
 718: 0,
 719: 0,
 720: 2,
 721: 4,
 722: 2,
 723: 4,
 724: 2,
 725: 2,
 726: 0,
 727: 0,
 728: 4,
 729: 4,
 730: 1,
 731: 0,
 732: 0,
 733: 4,
 734: 0,
 735: 1,
 736: 1,
 737: 4,
 738: 0,
 739: 4,
 740: 0,
 741: 4,
 742: 4,
 743: 4,
 744: 0,
 745: 0,
 746: 0,
 747: 4,
 748: 0,
 749: 2,
 750: 0,
 751: 0,
 752: 0,
 753: 0,
 754: 2,
 755: 2,
 756: 4,
 757: 4,
 758: 2,
 759: 4,
 760: 0,
 761: 0,
 762: 2,
 763: 0,
 764: 2,
 765: 2,
 766: 0,
 767: 0,
 768: 4,
 769: 0,
 770: 4,
 771: 2,
 772: 4,
 773: 4,
 774: 2,
 775: 0,
 776: 0,
 777: 4,
 778: 4,
 779: 3,
 780: 0,
 781: 1,
 782: 4,
 783: 0,
 784: 0,
 785: 4,
 786: 0,
 787: 4,
 788: 0,
 789: 4,
 790: 3,
 791: 0,
 792: 0,
 793: 4,
 794: 0,
 795: 4,
 796: 0,
 797: 4,
 798: 1,
 799: 0,
 800: 4,
 801: 0,
 802: 0,
 803: 4,
 804: 3,
 805: 4,
 806: 4,
 807: 0,
 808: 0,
 809: 0,
 810: 0,
 811: 4,
 812: 4,
 813: 4,
 814: 4,
 815: 0,
 816: 0,
 817: 0,
 818: 4,
 819: 4,
 820: 0,
 821: 0,
 822: 4,
 823: 4,
 824: 4,
 825: 4,
 826: 4,
 827: 4,
 828: 4,
 829: 0,
 830: 0,
 831: 0,
 832: 3,
 833: 0,
 834: 4,
 835: 4,
 836: 0,
 837: 4,
 838: 0,
 839: 0,
 840: 0,
 841: 3,
 842: 1,
 843: 0,
 844: 0,
 845: 0,
 846: 4,
 847: 4,
 848: 0,
 849: 4,
 850: 2,
 851: 4,
 852: 4,
 853: 4,
 854: 4,
 855: 0,
 856: 0,
 857: 0,
 858: 4,
 859: 4,
 860: 1,
 861: 4,
 862: 0,
 863: 0,
 864: 4,
 865: 0,
 866: 4,
 867: 0,
 868: 4,
 869: 4,
 870: 0,
 871: 4,
 872: 4,
 873: 3,
 874: 0,
 875: 0,
 876: 1,
 877: 0,
 878: 4,
 879: 0,
 880: 4,
 881: 4,
 882: 4,
 883: 4,
 884: 4,
 885: 4,
 886: 0,
 887: 0,
 888: 0,
 889: 0,
 890: 0,
 891: 0,
 892: 4,
 893: 2,
 894: 0,
 895: 4,
 896: 0,
 897: 4,
 898: 4,
 899: 0,
 900: 4,
 901: 4,
 902: 2,
 903: 0,
 904: 4,
 905: 4,
 906: 0,
 907: 4,
 908: 4,
 909: 2,
 910: 0,
 911: 0,
 912: 3,
 913: 4,
 914: 4,
 915: 4,
 916: 0,
 917: 0,
 918: 0,
 919: 4,
 920: 4,
 921: 4,
 922: 4,
 923: 4,
 924: 4,
 925: 0,
 926: 4,
 927: 4,
 928: 0,
 929: 0,
 930: 4,
 931: 4,
 932: 0,
 933: 0,
 934: 4,
 935: 0,
 936: 4,
 937: 4,
 938: 0,
 939: 0,
 940: 0,
 941: 0,
 942: 0,
 943: 0,
 944: 0,
 945: 0,
 946: 0,
 947: 0,
 948: 0,
 949: 1,
 950: 0,
 951: 0,
 952: 0,
 953: 0,
 954: 0,
 955: 0,
 956: 0,
 957: 0,
 958: 3,
 959: 0,
 960: 0,
 961: 0,
 962: 0,
 963: 0,
 964: 0,
 965: 0,
 966: 0,
 967: 0,
 968: 2,
 969: 0,
 970: 0,
 971: 0,
 972: 0,
 973: 0,
 974: 0,
 975: 0,
 976: 1,
 977: 0,
 978: 2,
 979: 0,
 980: 0,
 981: 0,
 982: 0,
 983: 0,
 984: 0,
 985: 0,
 986: 4,
 987: 0,
 988: 0,
 989: 0,
 990: 0,
 991: 0,
 992: 2,
 993: 0,
 994: 3,
 995: 0,
 996: 0,
 997: 0,
 998: 0,
 999: 0}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">community_pred</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(5, 4)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">match</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">pred</span> <span class="o">=</span> <span class="n">community_pred</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">true</span> <span class="o">=</span> <span class="n">community</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="n">match</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">true</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">pred</span><span class="p">)))</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">true</span><span class="p">)</span>
        
<span class="n">match</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.24721604, 0.22897196, 0.23076923, 0.21666667, 0.19642857],
       [0.31848552, 0.30373832, 0.29411765, 0.28888889, 0.26488095],
       [0.34298441, 0.35981308, 0.3438914 , 0.32777778, 0.4375    ],
       [0.09131403, 0.10747664, 0.13122172, 0.16666667, 0.10119048]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">community</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[9,
 13,
 14,
 15,
 19,
 22,
 25,
 28,
 30,
 31,
 32,
 33,
 36,
 37,
 42,
 44,
 46,
 47,
 50,
 51,
 53,
 55,
 56,
 59,
 60,
 61,
 65,
 68,
 69,
 70,
 71,
 74,
 75,
 81,
 84,
 85,
 86,
 87,
 91,
 94,
 100,
 101,
 102,
 103,
 105,
 106,
 110,
 113,
 116,
 117,
 120,
 123,
 124,
 126,
 133,
 136,
 142,
 143,
 144,
 147,
 149,
 151,
 153,
 154,
 157,
 158,
 160,
 163,
 165,
 166,
 167,
 172,
 173,
 174,
 179,
 180,
 183,
 184,
 186,
 187,
 192,
 194,
 199,
 200,
 201,
 205,
 209,
 213,
 214,
 219,
 224,
 231,
 232,
 234,
 236,
 237,
 240,
 246,
 247,
 248,
 252,
 253,
 258,
 262,
 264,
 271,
 273,
 274,
 279,
 280,
 281,
 282,
 284,
 290,
 292,
 293,
 294,
 295,
 301,
 309,
 311,
 312,
 320,
 322,
 323,
 324,
 326,
 328,
 330,
 331,
 334,
 335,
 339,
 340,
 343,
 344,
 351,
 353,
 354,
 362,
 363,
 368,
 374,
 381,
 382,
 386,
 389,
 390,
 391,
 392,
 395,
 396,
 402,
 404,
 411,
 412,
 415,
 417,
 418,
 419,
 420,
 421,
 425,
 426,
 430,
 438,
 442,
 444,
 448,
 450,
 451,
 454,
 455,
 456,
 458,
 462,
 463,
 466,
 470,
 475,
 477,
 483,
 487,
 488,
 491,
 496,
 497,
 501,
 505,
 507,
 509,
 513,
 515,
 519,
 521,
 527,
 530,
 532,
 535,
 536,
 538,
 544,
 550,
 551,
 552,
 553,
 554,
 555,
 556,
 559,
 561,
 563,
 567,
 570,
 571,
 572,
 578,
 584,
 586,
 587,
 597,
 604,
 606,
 607,
 613,
 614,
 616,
 617,
 618,
 619,
 620,
 623,
 624,
 626,
 627,
 631,
 633,
 640,
 641,
 643,
 644,
 645,
 646,
 649,
 655,
 656,
 659,
 660,
 664,
 665,
 667,
 668,
 677,
 679,
 680,
 682,
 683,
 689,
 690,
 693,
 700,
 701,
 704,
 705,
 706,
 708,
 714,
 715,
 716,
 718,
 719,
 724,
 726,
 727,
 731,
 732,
 734,
 738,
 740,
 744,
 745,
 746,
 748,
 750,
 751,
 752,
 753,
 760,
 761,
 763,
 764,
 766,
 767,
 769,
 775,
 776,
 779,
 780,
 781,
 783,
 784,
 786,
 787,
 788,
 790,
 791,
 792,
 794,
 795,
 796,
 798,
 799,
 801,
 802,
 804,
 807,
 808,
 809,
 810,
 815,
 816,
 817,
 820,
 821,
 827,
 829,
 830,
 831,
 832,
 833,
 836,
 838,
 839,
 840,
 841,
 842,
 843,
 844,
 845,
 848,
 850,
 853,
 855,
 856,
 857,
 860,
 862,
 863,
 865,
 867,
 870,
 873,
 874,
 875,
 876,
 877,
 879,
 886,
 887,
 888,
 889,
 890,
 891,
 893,
 894,
 896,
 899,
 901,
 902,
 903,
 904,
 906,
 909,
 910,
 911,
 912,
 916,
 917,
 918,
 922,
 925,
 928,
 929,
 932,
 933,
 935,
 937,
 938,
 939,
 940,
 941,
 942,
 943,
 944,
 945,
 946,
 947,
 948,
 949,
 950,
 951,
 952,
 953,
 954,
 955,
 956,
 957,
 958,
 959,
 960,
 961,
 962,
 963,
 964,
 965,
 966,
 967,
 968,
 969,
 970,
 971,
 972,
 973,
 974,
 975,
 976,
 977,
 978,
 979,
 980,
 981,
 982,
 983,
 984,
 985,
 986,
 987,
 988,
 989,
 990,
 991,
 992,
 993,
 994,
 995,
 996,
 997,
 998,
 999]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">community_pred</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[4,
 5,
 125,
 126,
 127,
 128,
 129,
 130,
 131,
 132,
 133,
 134,
 135,
 136,
 137,
 138,
 139,
 140,
 141,
 142,
 143,
 144,
 145,
 146,
 147,
 148,
 149,
 150,
 151,
 152,
 153,
 154,
 155,
 156,
 157,
 158,
 159,
 160,
 161,
 162,
 163,
 164,
 165,
 166,
 167,
 168,
 169,
 170,
 171,
 172,
 173,
 174,
 175,
 176,
 178,
 179,
 180,
 181,
 183,
 184,
 185,
 186,
 187,
 188,
 189,
 190,
 191,
 192,
 194,
 195,
 196,
 197,
 198,
 199,
 200,
 201,
 202,
 203,
 204,
 205,
 207,
 208,
 217,
 218,
 219,
 220,
 221,
 222,
 223,
 224,
 225,
 228,
 251,
 377,
 406,
 432,
 435,
 443,
 450,
 456,
 458,
 471,
 507,
 524,
 541,
 543,
 548,
 549,
 553,
 555,
 556,
 557,
 558,
 559,
 560,
 561,
 562,
 563,
 564,
 565,
 566,
 567,
 568,
 569,
 570,
 571,
 572,
 573,
 574,
 575,
 576,
 577,
 578,
 579,
 580,
 581,
 582,
 583,
 584,
 585,
 586,
 587,
 588,
 589,
 590,
 591,
 592,
 593,
 594,
 595,
 596,
 598,
 600,
 601,
 602,
 603,
 604,
 605,
 606,
 607,
 608,
 609,
 610,
 611,
 612,
 613,
 614,
 615,
 616,
 617,
 618,
 619,
 620,
 621,
 622,
 623,
 624,
 625,
 626,
 627,
 628,
 629,
 630,
 631,
 632,
 633,
 634,
 635,
 636,
 637,
 638,
 639,
 640,
 641,
 642,
 643,
 644,
 645,
 646,
 647,
 648,
 649,
 650,
 651,
 652,
 653,
 654,
 655,
 656,
 657,
 663,
 673,
 680,
 716,
 717,
 719,
 720,
 722,
 723,
 724,
 725,
 726,
 727,
 728,
 729,
 733,
 734,
 769,
 783,
 794,
 804,
 814,
 815,
 816,
 817,
 818,
 819,
 838,
 840,
 867,
 868,
 870,
 871,
 895,
 897,
 903,
 905,
 915,
 916,
 917,
 918,
 932,
 937,
 938,
 939,
 940,
 941,
 942,
 943,
 944,
 953,
 954,
 956,
 957,
 958,
 959,
 966,
 969,
 970,
 971,
 974,
 975,
 976,
 977,
 978,
 979,
 980,
 981,
 983,
 984,
 985,
 986,
 987,
 988,
 989,
 990,
 991,
 993,
 994,
 995,
 996,
 997,
 998,
 999]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">idxs_louvain</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">communities_louvain</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">idxs_louvain</span><span class="p">][:,</span> <span class="n">idxs_louvain</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;antialiased&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7f8446224e80&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_130_1.png" src="_images/fail_delete_later_130_1.png" />
</div>
</div>
</div>
<div class="section" id="lfr-no-overlap">
<h1>LFR no overlap<a class="headerlink" href="#lfr-no-overlap" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lfr_ws</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">],</span> <span class="s1">&#39;Dropbox/git/LFR-Benchmark_UndirWeightOvp/results/no_overlap&#39;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;lfr.nmc&#39;, &#39;lfr.nse&#39;, &#39;lfr.nst&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">read_weighted_edgelist</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">,</span> <span class="s1">&#39;lfr.nse&#39;</span><span class="p">),</span> <span class="n">nodetype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">relabel_nodes</span><span class="p">(</span>
    <span class="n">G</span><span class="o">=</span><span class="n">g</span><span class="p">,</span>
    <span class="n">mapping</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">order</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)},</span>
    <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">adjacency_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">a</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">500</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 500 {&#39;weight&#39;: 10.2312}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">,</span> <span class="s1">&#39;lfr.nmc&#39;</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>

<span class="n">membership</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">node</span><span class="p">,</span> <span class="n">mem</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">membership</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">mem</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)))</span>

<span class="n">community</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
<span class="n">partition</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="n">membership</span><span class="o">=</span><span class="n">membership</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">membership</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(3, 1000, 1000)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">membership</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: [1],
 1: [0],
 2: [2],
 3: [1],
 4: [0],
 5: [2],
 6: [2],
 7: [1],
 8: [0],
 9: [0],
 10: [1],
 11: [0],
 12: [0],
 13: [2],
 14: [0],
 15: [1],
 16: [0],
 17: [0],
 18: [2],
 19: [2],
 20: [2],
 21: [2],
 22: [0],
 23: [2],
 24: [0],
 25: [2],
 26: [2],
 27: [0],
 28: [2],
 29: [1],
 30: [2],
 31: [0],
 32: [2],
 33: [0],
 34: [0],
 35: [0],
 36: [0],
 37: [0],
 38: [0],
 39: [2],
 40: [2],
 41: [2],
 42: [0],
 43: [1],
 44: [1],
 45: [1],
 46: [2],
 47: [1],
 48: [0],
 49: [2],
 50: [2],
 51: [0],
 52: [2],
 53: [0],
 54: [0],
 55: [0],
 56: [1],
 57: [0],
 58: [1],
 59: [0],
 60: [1],
 61: [1],
 62: [1],
 63: [1],
 64: [2],
 65: [2],
 66: [0],
 67: [0],
 68: [2],
 69: [0],
 70: [0],
 71: [0],
 72: [1],
 73: [0],
 74: [1],
 75: [1],
 76: [0],
 77: [0],
 78: [0],
 79: [0],
 80: [1],
 81: [0],
 82: [2],
 83: [2],
 84: [0],
 85: [0],
 86: [1],
 87: [2],
 88: [1],
 89: [0],
 90: [1],
 91: [2],
 92: [2],
 93: [0],
 94: [1],
 95: [2],
 96: [0],
 97: [0],
 98: [2],
 99: [0],
 100: [1],
 101: [2],
 102: [0],
 103: [0],
 104: [0],
 105: [2],
 106: [2],
 107: [0],
 108: [2],
 109: [1],
 110: [0],
 111: [2],
 112: [1],
 113: [1],
 114: [0],
 115: [2],
 116: [2],
 117: [2],
 118: [2],
 119: [1],
 120: [0],
 121: [1],
 122: [0],
 123: [1],
 124: [2],
 125: [2],
 126: [2],
 127: [0],
 128: [2],
 129: [0],
 130: [1],
 131: [1],
 132: [2],
 133: [1],
 134: [1],
 135: [1],
 136: [0],
 137: [0],
 138: [0],
 139: [0],
 140: [0],
 141: [1],
 142: [1],
 143: [0],
 144: [1],
 145: [1],
 146: [1],
 147: [0],
 148: [1],
 149: [0],
 150: [1],
 151: [2],
 152: [2],
 153: [2],
 154: [2],
 155: [1],
 156: [2],
 157: [0],
 158: [0],
 159: [1],
 160: [0],
 161: [2],
 162: [2],
 163: [2],
 164: [1],
 165: [0],
 166: [1],
 167: [1],
 168: [1],
 169: [2],
 170: [1],
 171: [2],
 172: [0],
 173: [0],
 174: [0],
 175: [0],
 176: [2],
 177: [0],
 178: [2],
 179: [0],
 180: [2],
 181: [0],
 182: [2],
 183: [1],
 184: [1],
 185: [1],
 186: [1],
 187: [0],
 188: [2],
 189: [2],
 190: [0],
 191: [1],
 192: [1],
 193: [0],
 194: [2],
 195: [0],
 196: [2],
 197: [0],
 198: [1],
 199: [1],
 200: [2],
 201: [0],
 202: [0],
 203: [1],
 204: [2],
 205: [2],
 206: [0],
 207: [2],
 208: [0],
 209: [0],
 210: [2],
 211: [2],
 212: [0],
 213: [2],
 214: [1],
 215: [1],
 216: [0],
 217: [0],
 218: [1],
 219: [1],
 220: [2],
 221: [2],
 222: [1],
 223: [0],
 224: [2],
 225: [2],
 226: [0],
 227: [1],
 228: [1],
 229: [1],
 230: [0],
 231: [0],
 232: [0],
 233: [1],
 234: [0],
 235: [1],
 236: [1],
 237: [1],
 238: [0],
 239: [0],
 240: [0],
 241: [0],
 242: [1],
 243: [1],
 244: [1],
 245: [0],
 246: [1],
 247: [2],
 248: [2],
 249: [0],
 250: [0],
 251: [2],
 252: [0],
 253: [1],
 254: [2],
 255: [1],
 256: [0],
 257: [2],
 258: [2],
 259: [1],
 260: [2],
 261: [0],
 262: [2],
 263: [2],
 264: [0],
 265: [0],
 266: [1],
 267: [2],
 268: [1],
 269: [0],
 270: [0],
 271: [2],
 272: [2],
 273: [1],
 274: [1],
 275: [0],
 276: [1],
 277: [1],
 278: [1],
 279: [1],
 280: [1],
 281: [2],
 282: [2],
 283: [0],
 284: [0],
 285: [0],
 286: [0],
 287: [1],
 288: [1],
 289: [2],
 290: [0],
 291: [0],
 292: [0],
 293: [2],
 294: [0],
 295: [1],
 296: [2],
 297: [2],
 298: [2],
 299: [0],
 300: [1],
 301: [1],
 302: [0],
 303: [2],
 304: [1],
 305: [1],
 306: [2],
 307: [0],
 308: [1],
 309: [2],
 310: [1],
 311: [1],
 312: [2],
 313: [1],
 314: [0],
 315: [0],
 316: [2],
 317: [1],
 318: [2],
 319: [1],
 320: [0],
 321: [0],
 322: [2],
 323: [1],
 324: [1],
 325: [2],
 326: [1],
 327: [2],
 328: [1],
 329: [2],
 330: [0],
 331: [1],
 332: [0],
 333: [0],
 334: [1],
 335: [0],
 336: [2],
 337: [1],
 338: [1],
 339: [1],
 340: [0],
 341: [1],
 342: [2],
 343: [2],
 344: [1],
 345: [2],
 346: [2],
 347: [0],
 348: [2],
 349: [0],
 350: [1],
 351: [1],
 352: [0],
 353: [2],
 354: [2],
 355: [1],
 356: [2],
 357: [1],
 358: [1],
 359: [0],
 360: [2],
 361: [2],
 362: [1],
 363: [1],
 364: [2],
 365: [2],
 366: [1],
 367: [0],
 368: [0],
 369: [0],
 370: [0],
 371: [2],
 372: [2],
 373: [2],
 374: [2],
 375: [1],
 376: [1],
 377: [0],
 378: [1],
 379: [1],
 380: [0],
 381: [0],
 382: [1],
 383: [1],
 384: [1],
 385: [2],
 386: [0],
 387: [1],
 388: [1],
 389: [0],
 390: [0],
 391: [0],
 392: [2],
 393: [2],
 394: [0],
 395: [1],
 396: [1],
 397: [0],
 398: [0],
 399: [2],
 400: [1],
 401: [2],
 402: [0],
 403: [0],
 404: [1],
 405: [2],
 406: [1],
 407: [2],
 408: [1],
 409: [1],
 410: [2],
 411: [0],
 412: [2],
 413: [2],
 414: [2],
 415: [0],
 416: [2],
 417: [0],
 418: [1],
 419: [2],
 420: [1],
 421: [2],
 422: [1],
 423: [1],
 424: [2],
 425: [2],
 426: [1],
 427: [0],
 428: [1],
 429: [0],
 430: [1],
 431: [0],
 432: [1],
 433: [2],
 434: [2],
 435: [0],
 436: [0],
 437: [1],
 438: [2],
 439: [2],
 440: [1],
 441: [1],
 442: [0],
 443: [0],
 444: [1],
 445: [0],
 446: [0],
 447: [2],
 448: [1],
 449: [1],
 450: [0],
 451: [2],
 452: [0],
 453: [2],
 454: [0],
 455: [1],
 456: [1],
 457: [0],
 458: [0],
 459: [1],
 460: [2],
 461: [2],
 462: [0],
 463: [2],
 464: [0],
 465: [0],
 466: [2],
 467: [0],
 468: [2],
 469: [0],
 470: [0],
 471: [0],
 472: [1],
 473: [2],
 474: [1],
 475: [0],
 476: [0],
 477: [2],
 478: [1],
 479: [1],
 480: [0],
 481: [2],
 482: [2],
 483: [0],
 484: [2],
 485: [2],
 486: [1],
 487: [0],
 488: [1],
 489: [1],
 490: [1],
 491: [2],
 492: [0],
 493: [1],
 494: [1],
 495: [2],
 496: [1],
 497: [1],
 498: [1],
 499: [2],
 500: [1],
 501: [1],
 502: [2],
 503: [2],
 504: [1],
 505: [0],
 506: [1],
 507: [0],
 508: [1],
 509: [0],
 510: [2],
 511: [1],
 512: [0],
 513: [2],
 514: [0],
 515: [1],
 516: [2],
 517: [2],
 518: [1],
 519: [2],
 520: [2],
 521: [0],
 522: [1],
 523: [2],
 524: [2],
 525: [1],
 526: [2],
 527: [2],
 528: [0],
 529: [2],
 530: [2],
 531: [0],
 532: [0],
 533: [0],
 534: [2],
 535: [0],
 536: [2],
 537: [1],
 538: [1],
 539: [0],
 540: [2],
 541: [0],
 542: [0],
 543: [1],
 544: [2],
 545: [0],
 546: [0],
 547: [1],
 548: [1],
 549: [0],
 550: [1],
 551: [1],
 552: [0],
 553: [1],
 554: [2],
 555: [1],
 556: [1],
 557: [1],
 558: [0],
 559: [0],
 560: [0],
 561: [0],
 562: [0],
 563: [0],
 564: [1],
 565: [1],
 566: [2],
 567: [0],
 568: [1],
 569: [2],
 570: [2],
 571: [0],
 572: [1],
 573: [2],
 574: [2],
 575: [1],
 576: [2],
 577: [1],
 578: [2],
 579: [1],
 580: [0],
 581: [2],
 582: [0],
 583: [0],
 584: [2],
 585: [0],
 586: [0],
 587: [1],
 588: [0],
 589: [0],
 590: [0],
 591: [0],
 592: [0],
 593: [2],
 594: [0],
 595: [0],
 596: [1],
 597: [2],
 598: [0],
 599: [0],
 600: [2],
 601: [2],
 602: [0],
 603: [2],
 604: [2],
 605: [0],
 606: [1],
 607: [2],
 608: [1],
 609: [2],
 610: [2],
 611: [2],
 612: [1],
 613: [0],
 614: [2],
 615: [2],
 616: [2],
 617: [1],
 618: [1],
 619: [1],
 620: [0],
 621: [2],
 622: [0],
 623: [2],
 624: [0],
 625: [0],
 626: [0],
 627: [1],
 628: [1],
 629: [0],
 630: [0],
 631: [0],
 632: [0],
 633: [1],
 634: [2],
 635: [0],
 636: [0],
 637: [1],
 638: [1],
 639: [2],
 640: [0],
 641: [0],
 642: [0],
 643: [0],
 644: [2],
 645: [0],
 646: [1],
 647: [0],
 648: [0],
 649: [1],
 650: [0],
 651: [0],
 652: [0],
 653: [2],
 654: [0],
 655: [0],
 656: [2],
 657: [1],
 658: [0],
 659: [1],
 660: [0],
 661: [0],
 662: [2],
 663: [0],
 664: [1],
 665: [0],
 666: [0],
 667: [1],
 668: [0],
 669: [1],
 670: [1],
 671: [0],
 672: [2],
 673: [0],
 674: [0],
 675: [2],
 676: [0],
 677: [1],
 678: [2],
 679: [1],
 680: [2],
 681: [2],
 682: [1],
 683: [1],
 684: [1],
 685: [1],
 686: [0],
 687: [2],
 688: [2],
 689: [0],
 690: [1],
 691: [0],
 692: [0],
 693: [2],
 694: [0],
 695: [0],
 696: [2],
 697: [2],
 698: [0],
 699: [2],
 700: [0],
 701: [2],
 702: [0],
 703: [2],
 704: [0],
 705: [0],
 706: [0],
 707: [0],
 708: [0],
 709: [1],
 710: [0],
 711: [0],
 712: [1],
 713: [1],
 714: [1],
 715: [2],
 716: [2],
 717: [1],
 718: [1],
 719: [1],
 720: [2],
 721: [0],
 722: [2],
 723: [2],
 724: [1],
 725: [1],
 726: [2],
 727: [1],
 728: [1],
 729: [0],
 730: [0],
 731: [1],
 732: [1],
 733: [1],
 734: [2],
 735: [2],
 736: [1],
 737: [2],
 738: [1],
 739: [0],
 740: [1],
 741: [0],
 742: [2],
 743: [1],
 744: [1],
 745: [0],
 746: [0],
 747: [0],
 748: [0],
 749: [0],
 750: [2],
 751: [2],
 752: [0],
 753: [0],
 754: [1],
 755: [0],
 756: [1],
 757: [0],
 758: [0],
 759: [2],
 760: [1],
 761: [0],
 762: [0],
 763: [2],
 764: [1],
 765: [2],
 766: [1],
 767: [2],
 768: [1],
 769: [0],
 770: [1],
 771: [2],
 772: [1],
 773: [2],
 774: [1],
 775: [2],
 776: [2],
 777: [1],
 778: [2],
 779: [2],
 780: [0],
 781: [1],
 782: [0],
 783: [0],
 784: [1],
 785: [2],
 786: [0],
 787: [1],
 788: [0],
 789: [2],
 790: [2],
 791: [0],
 792: [2],
 793: [2],
 794: [0],
 795: [2],
 796: [1],
 797: [1],
 798: [1],
 799: [2],
 800: [1],
 801: [0],
 802: [2],
 803: [1],
 804: [1],
 805: [2],
 806: [1],
 807: [2],
 808: [2],
 809: [2],
 810: [2],
 811: [1],
 812: [0],
 813: [0],
 814: [2],
 815: [0],
 816: [0],
 817: [1],
 818: [2],
 819: [0],
 820: [0],
 821: [1],
 822: [0],
 823: [0],
 824: [1],
 825: [1],
 826: [0],
 827: [2],
 828: [1],
 829: [2],
 830: [2],
 831: [0],
 832: [2],
 833: [1],
 834: [0],
 835: [0],
 836: [2],
 837: [2],
 838: [0],
 839: [1],
 840: [1],
 841: [0],
 842: [0],
 843: [1],
 844: [2],
 845: [0],
 846: [1],
 847: [1],
 848: [0],
 849: [1],
 850: [2],
 851: [0],
 852: [0],
 853: [1],
 854: [2],
 855: [0],
 856: [1],
 857: [1],
 858: [1],
 859: [2],
 860: [2],
 861: [2],
 862: [0],
 863: [2],
 864: [0],
 865: [0],
 866: [1],
 867: [0],
 868: [0],
 869: [0],
 870: [0],
 871: [0],
 872: [2],
 873: [0],
 874: [0],
 875: [2],
 876: [0],
 877: [0],
 878: [2],
 879: [0],
 880: [0],
 881: [0],
 882: [0],
 883: [0],
 884: [0],
 885: [0],
 886: [0],
 887: [0],
 888: [0],
 889: [0],
 890: [0],
 891: [0],
 892: [0],
 893: [0],
 894: [0],
 895: [0],
 896: [0],
 897: [0],
 898: [0],
 899: [0],
 900: [0],
 901: [0],
 902: [0],
 903: [0],
 904: [0],
 905: [0],
 906: [0],
 907: [0],
 908: [0],
 909: [0],
 910: [0],
 911: [0],
 912: [0],
 913: [0],
 914: [0],
 915: [0],
 916: [0],
 917: [0],
 918: [0],
 919: [0],
 920: [0],
 921: [0],
 922: [0],
 923: [0],
 924: [0],
 925: [0],
 926: [0],
 927: [0],
 928: [0],
 929: [0],
 930: [0],
 931: [0],
 932: [0],
 933: [0],
 934: [0],
 935: [0],
 936: [0],
 937: [0],
 938: [0],
 939: [0],
 940: [0],
 941: [0],
 942: [0],
 943: [0],
 944: [0],
 945: [0],
 946: [0],
 947: [0],
 948: [0],
 949: [0],
 950: [0],
 951: [0],
 952: [0],
 953: [0],
 954: [0],
 955: [0],
 956: [0],
 957: [0],
 958: [0],
 959: [0],
 960: [0],
 961: [0],
 962: [0],
 963: [0],
 964: [0],
 965: [0],
 966: [0],
 967: [0],
 968: [0],
 969: [0],
 970: [0],
 971: [0],
 972: [0],
 973: [0],
 974: [0],
 975: [0],
 976: [0],
 977: [0],
 978: [0],
 979: [0],
 980: [0],
 981: [0],
 982: [0],
 983: [0],
 984: [0],
 985: [0],
 986: [0],
 987: [0],
 988: [0],
 989: [0],
 990: [0],
 991: [0],
 992: [0],
 993: [0],
 994: [0],
 995: [0],
 996: [0],
 997: [0],
 998: [0],
 999: [0]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">partition</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: 1,
 1: 0,
 2: 2,
 3: 1,
 4: 0,
 5: 2,
 6: 2,
 7: 1,
 8: 0,
 9: 0,
 10: 1,
 11: 0,
 12: 0,
 13: 2,
 14: 0,
 15: 1,
 16: 0,
 17: 0,
 18: 2,
 19: 2,
 20: 2,
 21: 2,
 22: 0,
 23: 2,
 24: 0,
 25: 2,
 26: 2,
 27: 0,
 28: 2,
 29: 1,
 30: 2,
 31: 0,
 32: 2,
 33: 0,
 34: 0,
 35: 0,
 36: 0,
 37: 0,
 38: 0,
 39: 2,
 40: 2,
 41: 2,
 42: 0,
 43: 1,
 44: 1,
 45: 1,
 46: 2,
 47: 1,
 48: 0,
 49: 2,
 50: 2,
 51: 0,
 52: 2,
 53: 0,
 54: 0,
 55: 0,
 56: 1,
 57: 0,
 58: 1,
 59: 0,
 60: 1,
 61: 1,
 62: 1,
 63: 1,
 64: 2,
 65: 2,
 66: 0,
 67: 0,
 68: 2,
 69: 0,
 70: 0,
 71: 0,
 72: 1,
 73: 0,
 74: 1,
 75: 1,
 76: 0,
 77: 0,
 78: 0,
 79: 0,
 80: 1,
 81: 0,
 82: 2,
 83: 2,
 84: 0,
 85: 0,
 86: 1,
 87: 2,
 88: 1,
 89: 0,
 90: 1,
 91: 2,
 92: 2,
 93: 0,
 94: 1,
 95: 2,
 96: 0,
 97: 0,
 98: 2,
 99: 0,
 100: 1,
 101: 2,
 102: 0,
 103: 0,
 104: 0,
 105: 2,
 106: 2,
 107: 0,
 108: 2,
 109: 1,
 110: 0,
 111: 2,
 112: 1,
 113: 1,
 114: 0,
 115: 2,
 116: 2,
 117: 2,
 118: 2,
 119: 1,
 120: 0,
 121: 1,
 122: 0,
 123: 1,
 124: 2,
 125: 2,
 126: 2,
 127: 0,
 128: 2,
 129: 0,
 130: 1,
 131: 1,
 132: 2,
 133: 1,
 134: 1,
 135: 1,
 136: 0,
 137: 0,
 138: 0,
 139: 0,
 140: 0,
 141: 1,
 142: 1,
 143: 0,
 144: 1,
 145: 1,
 146: 1,
 147: 0,
 148: 1,
 149: 0,
 150: 1,
 151: 2,
 152: 2,
 153: 2,
 154: 2,
 155: 1,
 156: 2,
 157: 0,
 158: 0,
 159: 1,
 160: 0,
 161: 2,
 162: 2,
 163: 2,
 164: 1,
 165: 0,
 166: 1,
 167: 1,
 168: 1,
 169: 2,
 170: 1,
 171: 2,
 172: 0,
 173: 0,
 174: 0,
 175: 0,
 176: 2,
 177: 0,
 178: 2,
 179: 0,
 180: 2,
 181: 0,
 182: 2,
 183: 1,
 184: 1,
 185: 1,
 186: 1,
 187: 0,
 188: 2,
 189: 2,
 190: 0,
 191: 1,
 192: 1,
 193: 0,
 194: 2,
 195: 0,
 196: 2,
 197: 0,
 198: 1,
 199: 1,
 200: 2,
 201: 0,
 202: 0,
 203: 1,
 204: 2,
 205: 2,
 206: 0,
 207: 2,
 208: 0,
 209: 0,
 210: 2,
 211: 2,
 212: 0,
 213: 2,
 214: 1,
 215: 1,
 216: 0,
 217: 0,
 218: 1,
 219: 1,
 220: 2,
 221: 2,
 222: 1,
 223: 0,
 224: 2,
 225: 2,
 226: 0,
 227: 1,
 228: 1,
 229: 1,
 230: 0,
 231: 0,
 232: 0,
 233: 1,
 234: 0,
 235: 1,
 236: 1,
 237: 1,
 238: 0,
 239: 0,
 240: 0,
 241: 0,
 242: 1,
 243: 1,
 244: 1,
 245: 0,
 246: 1,
 247: 2,
 248: 2,
 249: 0,
 250: 0,
 251: 2,
 252: 0,
 253: 1,
 254: 2,
 255: 1,
 256: 0,
 257: 2,
 258: 2,
 259: 1,
 260: 2,
 261: 0,
 262: 2,
 263: 2,
 264: 0,
 265: 0,
 266: 1,
 267: 2,
 268: 1,
 269: 0,
 270: 0,
 271: 2,
 272: 2,
 273: 1,
 274: 1,
 275: 0,
 276: 1,
 277: 1,
 278: 1,
 279: 1,
 280: 1,
 281: 2,
 282: 2,
 283: 0,
 284: 0,
 285: 0,
 286: 0,
 287: 1,
 288: 1,
 289: 2,
 290: 0,
 291: 0,
 292: 0,
 293: 2,
 294: 0,
 295: 1,
 296: 2,
 297: 2,
 298: 2,
 299: 0,
 300: 1,
 301: 1,
 302: 0,
 303: 2,
 304: 1,
 305: 1,
 306: 2,
 307: 0,
 308: 1,
 309: 2,
 310: 1,
 311: 1,
 312: 2,
 313: 1,
 314: 0,
 315: 0,
 316: 2,
 317: 1,
 318: 2,
 319: 1,
 320: 0,
 321: 0,
 322: 2,
 323: 1,
 324: 1,
 325: 2,
 326: 1,
 327: 2,
 328: 1,
 329: 2,
 330: 0,
 331: 1,
 332: 0,
 333: 0,
 334: 1,
 335: 0,
 336: 2,
 337: 1,
 338: 1,
 339: 1,
 340: 0,
 341: 1,
 342: 2,
 343: 2,
 344: 1,
 345: 2,
 346: 2,
 347: 0,
 348: 2,
 349: 0,
 350: 1,
 351: 1,
 352: 0,
 353: 2,
 354: 2,
 355: 1,
 356: 2,
 357: 1,
 358: 1,
 359: 0,
 360: 2,
 361: 2,
 362: 1,
 363: 1,
 364: 2,
 365: 2,
 366: 1,
 367: 0,
 368: 0,
 369: 0,
 370: 0,
 371: 2,
 372: 2,
 373: 2,
 374: 2,
 375: 1,
 376: 1,
 377: 0,
 378: 1,
 379: 1,
 380: 0,
 381: 0,
 382: 1,
 383: 1,
 384: 1,
 385: 2,
 386: 0,
 387: 1,
 388: 1,
 389: 0,
 390: 0,
 391: 0,
 392: 2,
 393: 2,
 394: 0,
 395: 1,
 396: 1,
 397: 0,
 398: 0,
 399: 2,
 400: 1,
 401: 2,
 402: 0,
 403: 0,
 404: 1,
 405: 2,
 406: 1,
 407: 2,
 408: 1,
 409: 1,
 410: 2,
 411: 0,
 412: 2,
 413: 2,
 414: 2,
 415: 0,
 416: 2,
 417: 0,
 418: 1,
 419: 2,
 420: 1,
 421: 2,
 422: 1,
 423: 1,
 424: 2,
 425: 2,
 426: 1,
 427: 0,
 428: 1,
 429: 0,
 430: 1,
 431: 0,
 432: 1,
 433: 2,
 434: 2,
 435: 0,
 436: 0,
 437: 1,
 438: 2,
 439: 2,
 440: 1,
 441: 1,
 442: 0,
 443: 0,
 444: 1,
 445: 0,
 446: 0,
 447: 2,
 448: 1,
 449: 1,
 450: 0,
 451: 2,
 452: 0,
 453: 2,
 454: 0,
 455: 1,
 456: 1,
 457: 0,
 458: 0,
 459: 1,
 460: 2,
 461: 2,
 462: 0,
 463: 2,
 464: 0,
 465: 0,
 466: 2,
 467: 0,
 468: 2,
 469: 0,
 470: 0,
 471: 0,
 472: 1,
 473: 2,
 474: 1,
 475: 0,
 476: 0,
 477: 2,
 478: 1,
 479: 1,
 480: 0,
 481: 2,
 482: 2,
 483: 0,
 484: 2,
 485: 2,
 486: 1,
 487: 0,
 488: 1,
 489: 1,
 490: 1,
 491: 2,
 492: 0,
 493: 1,
 494: 1,
 495: 2,
 496: 1,
 497: 1,
 498: 1,
 499: 2,
 500: 1,
 501: 1,
 502: 2,
 503: 2,
 504: 1,
 505: 0,
 506: 1,
 507: 0,
 508: 1,
 509: 0,
 510: 2,
 511: 1,
 512: 0,
 513: 2,
 514: 0,
 515: 1,
 516: 2,
 517: 2,
 518: 1,
 519: 2,
 520: 2,
 521: 0,
 522: 1,
 523: 2,
 524: 2,
 525: 1,
 526: 2,
 527: 2,
 528: 0,
 529: 2,
 530: 2,
 531: 0,
 532: 0,
 533: 0,
 534: 2,
 535: 0,
 536: 2,
 537: 1,
 538: 1,
 539: 0,
 540: 2,
 541: 0,
 542: 0,
 543: 1,
 544: 2,
 545: 0,
 546: 0,
 547: 1,
 548: 1,
 549: 0,
 550: 1,
 551: 1,
 552: 0,
 553: 1,
 554: 2,
 555: 1,
 556: 1,
 557: 1,
 558: 0,
 559: 0,
 560: 0,
 561: 0,
 562: 0,
 563: 0,
 564: 1,
 565: 1,
 566: 2,
 567: 0,
 568: 1,
 569: 2,
 570: 2,
 571: 0,
 572: 1,
 573: 2,
 574: 2,
 575: 1,
 576: 2,
 577: 1,
 578: 2,
 579: 1,
 580: 0,
 581: 2,
 582: 0,
 583: 0,
 584: 2,
 585: 0,
 586: 0,
 587: 1,
 588: 0,
 589: 0,
 590: 0,
 591: 0,
 592: 0,
 593: 2,
 594: 0,
 595: 0,
 596: 1,
 597: 2,
 598: 0,
 599: 0,
 600: 2,
 601: 2,
 602: 0,
 603: 2,
 604: 2,
 605: 0,
 606: 1,
 607: 2,
 608: 1,
 609: 2,
 610: 2,
 611: 2,
 612: 1,
 613: 0,
 614: 2,
 615: 2,
 616: 2,
 617: 1,
 618: 1,
 619: 1,
 620: 0,
 621: 2,
 622: 0,
 623: 2,
 624: 0,
 625: 0,
 626: 0,
 627: 1,
 628: 1,
 629: 0,
 630: 0,
 631: 0,
 632: 0,
 633: 1,
 634: 2,
 635: 0,
 636: 0,
 637: 1,
 638: 1,
 639: 2,
 640: 0,
 641: 0,
 642: 0,
 643: 0,
 644: 2,
 645: 0,
 646: 1,
 647: 0,
 648: 0,
 649: 1,
 650: 0,
 651: 0,
 652: 0,
 653: 2,
 654: 0,
 655: 0,
 656: 2,
 657: 1,
 658: 0,
 659: 1,
 660: 0,
 661: 0,
 662: 2,
 663: 0,
 664: 1,
 665: 0,
 666: 0,
 667: 1,
 668: 0,
 669: 1,
 670: 1,
 671: 0,
 672: 2,
 673: 0,
 674: 0,
 675: 2,
 676: 0,
 677: 1,
 678: 2,
 679: 1,
 680: 2,
 681: 2,
 682: 1,
 683: 1,
 684: 1,
 685: 1,
 686: 0,
 687: 2,
 688: 2,
 689: 0,
 690: 1,
 691: 0,
 692: 0,
 693: 2,
 694: 0,
 695: 0,
 696: 2,
 697: 2,
 698: 0,
 699: 2,
 700: 0,
 701: 2,
 702: 0,
 703: 2,
 704: 0,
 705: 0,
 706: 0,
 707: 0,
 708: 0,
 709: 1,
 710: 0,
 711: 0,
 712: 1,
 713: 1,
 714: 1,
 715: 2,
 716: 2,
 717: 1,
 718: 1,
 719: 1,
 720: 2,
 721: 0,
 722: 2,
 723: 2,
 724: 1,
 725: 1,
 726: 2,
 727: 1,
 728: 1,
 729: 0,
 730: 0,
 731: 1,
 732: 1,
 733: 1,
 734: 2,
 735: 2,
 736: 1,
 737: 2,
 738: 1,
 739: 0,
 740: 1,
 741: 0,
 742: 2,
 743: 1,
 744: 1,
 745: 0,
 746: 0,
 747: 0,
 748: 0,
 749: 0,
 750: 2,
 751: 2,
 752: 0,
 753: 0,
 754: 1,
 755: 0,
 756: 1,
 757: 0,
 758: 0,
 759: 2,
 760: 1,
 761: 0,
 762: 0,
 763: 2,
 764: 1,
 765: 2,
 766: 1,
 767: 2,
 768: 1,
 769: 0,
 770: 1,
 771: 2,
 772: 1,
 773: 2,
 774: 1,
 775: 2,
 776: 2,
 777: 1,
 778: 2,
 779: 2,
 780: 0,
 781: 1,
 782: 0,
 783: 0,
 784: 1,
 785: 2,
 786: 0,
 787: 1,
 788: 0,
 789: 2,
 790: 2,
 791: 0,
 792: 2,
 793: 2,
 794: 0,
 795: 2,
 796: 1,
 797: 1,
 798: 1,
 799: 2,
 800: 1,
 801: 0,
 802: 2,
 803: 1,
 804: 1,
 805: 2,
 806: 1,
 807: 2,
 808: 2,
 809: 2,
 810: 2,
 811: 1,
 812: 0,
 813: 0,
 814: 2,
 815: 0,
 816: 0,
 817: 1,
 818: 2,
 819: 0,
 820: 0,
 821: 1,
 822: 0,
 823: 0,
 824: 1,
 825: 1,
 826: 0,
 827: 2,
 828: 1,
 829: 2,
 830: 2,
 831: 0,
 832: 2,
 833: 1,
 834: 0,
 835: 0,
 836: 2,
 837: 2,
 838: 0,
 839: 1,
 840: 1,
 841: 0,
 842: 0,
 843: 1,
 844: 2,
 845: 0,
 846: 1,
 847: 1,
 848: 0,
 849: 1,
 850: 2,
 851: 0,
 852: 0,
 853: 1,
 854: 2,
 855: 0,
 856: 1,
 857: 1,
 858: 1,
 859: 2,
 860: 2,
 861: 2,
 862: 0,
 863: 2,
 864: 0,
 865: 0,
 866: 1,
 867: 0,
 868: 0,
 869: 0,
 870: 0,
 871: 0,
 872: 2,
 873: 0,
 874: 0,
 875: 2,
 876: 0,
 877: 0,
 878: 2,
 879: 0,
 880: 0,
 881: 0,
 882: 0,
 883: 0,
 884: 0,
 885: 0,
 886: 0,
 887: 0,
 888: 0,
 889: 0,
 890: 0,
 891: 0,
 892: 0,
 893: 0,
 894: 0,
 895: 0,
 896: 0,
 897: 0,
 898: 0,
 899: 0,
 900: 0,
 901: 0,
 902: 0,
 903: 0,
 904: 0,
 905: 0,
 906: 0,
 907: 0,
 908: 0,
 909: 0,
 910: 0,
 911: 0,
 912: 0,
 913: 0,
 914: 0,
 915: 0,
 916: 0,
 917: 0,
 918: 0,
 919: 0,
 920: 0,
 921: 0,
 922: 0,
 923: 0,
 924: 0,
 925: 0,
 926: 0,
 927: 0,
 928: 0,
 929: 0,
 930: 0,
 931: 0,
 932: 0,
 933: 0,
 934: 0,
 935: 0,
 936: 0,
 937: 0,
 938: 0,
 939: 0,
 940: 0,
 941: 0,
 942: 0,
 943: 0,
 944: 0,
 945: 0,
 946: 0,
 947: 0,
 948: 0,
 949: 0,
 950: 0,
 951: 0,
 952: 0,
 953: 0,
 954: 0,
 955: 0,
 956: 0,
 957: 0,
 958: 0,
 959: 0,
 960: 0,
 961: 0,
 962: 0,
 963: 0,
 964: 0,
 965: 0,
 966: 0,
 967: 0,
 968: 0,
 969: 0,
 970: 0,
 971: 0,
 972: 0,
 973: 0,
 974: 0,
 975: 0,
 976: 0,
 977: 0,
 978: 0,
 979: 0,
 980: 0,
 981: 0,
 982: 0,
 983: 0,
 984: 0,
 985: 0,
 986: 0,
 987: 0,
 988: 0,
 989: 0,
 990: 0,
 991: 0,
 992: 0,
 993: 0,
 994: 0,
 995: 0,
 996: 0,
 997: 0,
 998: 0,
 999: 0}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">comm_indxs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">community</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">comm_indxs</span><span class="p">]</span>
    <span class="n">comm_indxs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">comm_indxs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1000
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7fa46b0789d0&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_145_1.png" src="_images/fail_delete_later_145_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Count&#39;&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_150_1.png" src="_images/fail_delete_later_150_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_overlap_nodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">membership</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
<span class="n">num_overlap_nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eigh</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">normalized_laplacian_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="n">ipr</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ipr</span> <span class="o">/=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ipr</span><span class="p">)</span>
<span class="n">sort_indxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

<span class="n">num_comm</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x7fa46adde370&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_153_1.png" src="_images/fail_delete_later_153_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">leading_eigenvec</span> <span class="o">=</span> <span class="n">v</span><span class="p">[:,</span> <span class="n">sort_indxs</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">leading_eigenvec</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7fa469ab2c40&gt;]
</pre></div>
</div>
<img alt="_images/fail_delete_later_155_1.png" src="_images/fail_delete_later_155_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">partition_louvain</span> <span class="o">=</span> <span class="n">community_louvain</span><span class="o">.</span><span class="n">best_partition</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RANDOM_STATE</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_graph</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">partition_pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">partition_true</span><span class="o">=</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fail_delete_later_158_0.png" src="_images/fail_delete_later_158_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">community_pred</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="n">partition</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">community_pred</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">compare_partitions</span><span class="p">(</span><span class="n">true</span><span class="o">=</span><span class="n">partition</span><span class="p">,</span> <span class="n">pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0.006057076808711531, 0.00792169439108566, 0.00792169439108566)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">community_pred</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: [0,
  1,
  2,
  4,
  5,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  16,
  17,
  19,
  20,
  21,
  22,
  23,
  24,
  25,
  26,
  27,
  29,
  30,
  31,
  32,
  33,
  34,
  35,
  36,
  37,
  38,
  39,
  40,
  41,
  42,
  43,
  44,
  45,
  46,
  47,
  48,
  49,
  50,
  51,
  52,
  53,
  54,
  55,
  56,
  57,
  58,
  59,
  60,
  61,
  62,
  63,
  64,
  65,
  66,
  67,
  68,
  69,
  70,
  71,
  72,
  73,
  74,
  75,
  76,
  77,
  78,
  79,
  80,
  81,
  82,
  83,
  84,
  85,
  86,
  87,
  88,
  89,
  90,
  91,
  92,
  93,
  95,
  96,
  97,
  98,
  99,
  100,
  101,
  102,
  103,
  104,
  105,
  106,
  107,
  108,
  109,
  110,
  112,
  113,
  114,
  115,
  116,
  117,
  118,
  119,
  135,
  147,
  362,
  363,
  364,
  367,
  368,
  369,
  371,
  373,
  374,
  375,
  376,
  377,
  378,
  379,
  380,
  381,
  382,
  383,
  384,
  385,
  386,
  387,
  388,
  389,
  391,
  392,
  393,
  394,
  395,
  397,
  398,
  399,
  400,
  401,
  402,
  403,
  404,
  405,
  406,
  407,
  408,
  409,
  410,
  411,
  412,
  413,
  414,
  415,
  416,
  417,
  419,
  420,
  421,
  422,
  423,
  424,
  425,
  426,
  427,
  428,
  429,
  431,
  432,
  433,
  434,
  435,
  440,
  442,
  447,
  580,
  581,
  584,
  585,
  586,
  587,
  588,
  589,
  590,
  591,
  592,
  593,
  594,
  595,
  596,
  597,
  599,
  600,
  602,
  603,
  604,
  605,
  606,
  607,
  608,
  612,
  642,
  663,
  664,
  665,
  666,
  667,
  668,
  669,
  670,
  671,
  673,
  675,
  676,
  677,
  678,
  679,
  680,
  681,
  682,
  683,
  684,
  685,
  687,
  693,
  719,
  720,
  778,
  779,
  780,
  781,
  782,
  783,
  785,
  786,
  787,
  788,
  789,
  790,
  791,
  792,
  793,
  859,
  864,
  889,
  899,
  902,
  903,
  904,
  906,
  907,
  911,
  923,
  943,
  952,
  953,
  954,
  955,
  956,
  957,
  958,
  959,
  960,
  961,
  962,
  963,
  965,
  966,
  984],
 1: [3,
  6,
  7,
  18,
  28,
  94,
  111,
  120,
  121,
  122,
  123,
  124,
  125,
  126,
  127,
  131,
  132,
  133,
  134,
  137,
  138,
  139,
  140,
  141,
  142,
  143,
  144,
  145,
  146,
  148,
  149,
  150,
  152,
  154,
  155,
  156,
  158,
  159,
  160,
  161,
  162,
  163,
  164,
  165,
  166,
  167,
  168,
  169,
  170,
  171,
  172,
  173,
  174,
  175,
  176,
  177,
  178,
  179,
  180,
  181,
  182,
  183,
  184,
  185,
  186,
  187,
  188,
  189,
  190,
  191,
  192,
  193,
  194,
  195,
  196,
  197,
  198,
  199,
  200,
  201,
  202,
  203,
  204,
  205,
  206,
  207,
  208,
  209,
  210,
  211,
  212,
  213,
  214,
  215,
  216,
  217,
  218,
  219,
  220,
  221,
  222,
  223,
  224,
  225,
  226,
  227,
  228,
  229,
  230,
  231,
  232,
  233,
  234,
  235,
  236,
  237,
  238,
  239,
  240,
  241,
  256,
  261,
  271,
  311,
  312,
  331,
  353,
  354,
  358,
  365,
  366,
  370,
  372,
  390,
  396,
  418,
  430,
  436,
  437,
  438,
  439,
  441,
  443,
  444,
  445,
  449,
  450,
  451,
  453,
  454,
  455,
  456,
  457,
  458,
  459,
  460,
  461,
  462,
  463,
  464,
  465,
  466,
  467,
  468,
  469,
  470,
  471,
  472,
  473,
  474,
  475,
  476,
  477,
  478,
  479,
  480,
  481,
  482,
  483,
  484,
  485,
  486,
  487,
  488,
  489,
  517,
  525,
  531,
  532,
  536,
  546,
  547,
  555,
  573,
  578,
  579,
  582,
  583,
  598,
  601,
  609,
  610,
  611,
  614,
  615,
  616,
  617,
  618,
  619,
  620,
  621,
  622,
  623,
  624,
  625,
  626,
  627,
  628,
  629,
  630,
  631,
  632,
  633,
  634,
  635,
  637,
  638,
  639,
  643,
  644,
  645,
  646,
  647,
  648,
  649,
  650,
  651,
  652,
  653,
  654,
  655,
  656,
  657,
  658,
  659,
  660,
  661,
  662,
  672,
  674,
  686,
  688,
  689,
  690,
  691,
  692,
  694,
  695,
  696,
  697,
  698,
  699,
  700,
  701,
  702,
  703,
  704,
  705,
  706,
  707,
  708,
  709,
  710,
  711,
  712,
  713,
  714,
  715,
  716,
  718,
  721,
  722,
  723,
  724,
  726,
  728,
  729,
  730,
  731,
  732,
  733,
  734,
  735,
  736,
  737,
  738,
  745,
  761,
  762,
  763,
  764,
  765,
  766,
  768,
  769,
  770,
  771,
  773,
  774,
  775,
  776,
  777,
  784,
  794,
  795,
  796,
  797,
  798,
  799,
  800,
  801,
  802,
  803,
  804,
  805,
  806,
  807,
  808,
  809,
  810,
  811,
  812,
  813,
  814,
  815,
  816,
  818,
  826,
  833,
  843,
  845,
  847,
  852,
  854,
  860,
  861,
  862,
  863,
  865,
  866,
  867,
  868,
  869,
  872,
  873,
  874,
  875,
  876,
  877,
  878,
  879,
  880,
  881,
  882,
  883,
  885,
  888,
  890,
  891,
  892,
  893,
  894,
  895,
  896,
  897,
  898,
  900,
  901,
  905,
  909,
  912,
  913,
  914,
  915,
  916,
  917,
  918,
  919,
  920,
  921,
  922,
  924,
  925,
  926,
  927,
  928,
  929,
  930,
  931,
  933,
  934,
  935,
  936,
  937,
  938,
  939,
  940,
  941,
  942,
  944,
  945,
  946,
  947,
  948,
  949,
  950,
  951,
  964,
  967,
  968,
  969,
  970,
  971,
  972,
  973,
  974,
  975,
  976,
  977,
  978,
  979,
  980,
  981,
  982,
  983,
  985,
  986,
  987,
  988,
  989,
  990,
  991,
  992,
  993,
  994,
  995,
  996,
  997,
  998,
  999],
 2: [128,
  129,
  130,
  136,
  151,
  153,
  157,
  242,
  243,
  244,
  245,
  246,
  247,
  248,
  249,
  250,
  251,
  252,
  253,
  254,
  255,
  257,
  258,
  259,
  260,
  262,
  263,
  264,
  265,
  266,
  267,
  268,
  269,
  270,
  272,
  273,
  274,
  275,
  276,
  277,
  278,
  279,
  280,
  281,
  282,
  283,
  284,
  285,
  286,
  287,
  288,
  289,
  290,
  291,
  292,
  293,
  294,
  295,
  296,
  297,
  298,
  299,
  300,
  301,
  302,
  303,
  304,
  305,
  306,
  307,
  308,
  309,
  310,
  313,
  314,
  315,
  316,
  317,
  318,
  319,
  320,
  321,
  322,
  323,
  324,
  325,
  326,
  327,
  328,
  329,
  330,
  332,
  333,
  334,
  335,
  336,
  337,
  338,
  339,
  340,
  341,
  342,
  343,
  344,
  345,
  346,
  347,
  348,
  349,
  350,
  351,
  352,
  355,
  356,
  357,
  359,
  360,
  361,
  446,
  448,
  452,
  490,
  491,
  492,
  493,
  494,
  495,
  496,
  497,
  498,
  499,
  500,
  501,
  502,
  503,
  504,
  505,
  506,
  507,
  508,
  509,
  510,
  511,
  512,
  513,
  514,
  515,
  516,
  518,
  519,
  520,
  521,
  522,
  523,
  524,
  526,
  527,
  528,
  529,
  530,
  533,
  534,
  535,
  537,
  538,
  539,
  540,
  541,
  542,
  543,
  544,
  545,
  548,
  549,
  550,
  551,
  552,
  553,
  554,
  556,
  557,
  558,
  559,
  560,
  561,
  562,
  563,
  564,
  565,
  566,
  567,
  568,
  569,
  570,
  571,
  572,
  574,
  575,
  576,
  577,
  613,
  636,
  640,
  641,
  717,
  725,
  727,
  739,
  740,
  741,
  742,
  743,
  744,
  746,
  747,
  748,
  749,
  750,
  751,
  752,
  753,
  754,
  755,
  756,
  757,
  758,
  759,
  760,
  767,
  772,
  817,
  819,
  820,
  821,
  822,
  823,
  824,
  825,
  827,
  828,
  829,
  830,
  831,
  832,
  834,
  835,
  836,
  837,
  838,
  839,
  840,
  841,
  842,
  844,
  846,
  848,
  849,
  850,
  851,
  853,
  855,
  856,
  857,
  858,
  870,
  871,
  884,
  886,
  887,
  908,
  910,
  932]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">idxs_louvain</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">community_pred</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">idxs_louvain</span><span class="p">][:,</span> <span class="n">idxs_louvain</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;antialiased&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7f84a75c0130&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_167_1.png" src="_images/fail_delete_later_167_1.png" />
</div>
</div>
</div>
<div class="section" id="lfr-no-overlap-2">
<h1>LFR no overlap 2<a class="headerlink" href="#lfr-no-overlap-2" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lfr_ws</span> <span class="o">=</span> <span class="n">pjoin</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">],</span> <span class="s1">&#39;Dropbox/git/LFR-Benchmark_UndirWeightOvp/results/no_overlap2&#39;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;lfr.cnl&#39;, &#39;lfr.nse&#39;, &#39;lfr.nst&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">read_weighted_edgelist</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">,</span> <span class="s1">&#39;lfr.nse&#39;</span><span class="p">),</span> <span class="n">nodetype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">relabel_nodes</span><span class="p">(</span>
    <span class="n">G</span><span class="o">=</span><span class="n">g</span><span class="p">,</span>
    <span class="n">mapping</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">order</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)},</span>
    <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">adjacency_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">a</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pjoin</span><span class="p">(</span><span class="n">lfr_ws</span><span class="p">,</span> <span class="s1">&#39;lfr.cnl&#39;</span><span class="p">),</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    
<span class="n">community</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">i</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">))))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">membership</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="s1">&#39;membership&#39;</span><span class="p">,</span> <span class="n">community</span><span class="o">=</span><span class="n">community</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
<span class="n">partition</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="n">community</span><span class="o">=</span><span class="n">community</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">membership</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(3, 1000, 1000)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">comm_indxs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">community</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">comm_indxs</span><span class="p">]</span>
    <span class="n">comm_indxs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">comm_indxs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1000
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7fa3e5ef8910&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_179_1.png" src="_images/fail_delete_later_179_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:ylabel=&#39;Count&#39;&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_181_1.png" src="_images/fail_delete_later_181_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">num_overlap_nodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="n">membership</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
<span class="n">num_overlap_nodes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eigh</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">normalized_laplacian_matrix</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="n">ipr</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ipr</span> <span class="o">/=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ipr</span><span class="p">)</span>
<span class="n">sort_indxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

<span class="n">num_comm</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">community</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[</span><span class="n">num_comm</span><span class="p">:]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">w</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span> <span class="n">ipr</span><span class="p">[</span><span class="n">sort_indxs</span><span class="p">[:</span><span class="n">num_comm</span><span class="p">]],</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x7fa46ae36af0&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_184_1.png" src="_images/fail_delete_later_184_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">leading_eigenvec</span> <span class="o">=</span> <span class="n">v</span><span class="p">[:,</span> <span class="n">sort_indxs</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">all</span><span class="p">(</span><span class="n">leading_eigenvec</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">leading_eigenvec</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7fa3f6298340&gt;]
</pre></div>
</div>
<img alt="_images/fail_delete_later_186_1.png" src="_images/fail_delete_later_186_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">partition_louvain</span> <span class="o">=</span> <span class="n">community_louvain</span><span class="o">.</span><span class="n">best_partition</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">RANDOM_STATE</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_graph</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">partition_pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">partition_true</span><span class="o">=</span><span class="n">partition</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fail_delete_later_189_0.png" src="_images/fail_delete_later_189_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">community_pred</span> <span class="o">=</span> <span class="n">convert</span><span class="p">(</span><span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span> <span class="n">partition</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">rng</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">community_pred</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">compare_partitions</span><span class="p">(</span><span class="n">true</span><span class="o">=</span><span class="n">partition</span><span class="p">,</span> <span class="n">pred</span><span class="o">=</span><span class="n">partition_louvain</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(-0.0009017189869345896, 0.0009375824340007519, 0.0009375824340007519)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">community_pred</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: [0,
  1,
  2,
  3,
  4,
  6,
  7,
  8,
  10,
  11,
  12,
  13,
  14,
  15,
  17,
  18,
  19,
  20,
  21,
  22,
  23,
  24,
  25,
  26,
  27,
  31,
  32,
  79,
  80,
  81,
  82,
  83,
  85,
  87,
  88,
  89,
  91,
  92,
  93,
  94,
  95,
  96,
  97,
  98,
  99,
  100,
  101,
  104,
  105,
  169,
  183,
  202,
  203,
  205,
  206,
  207,
  208,
  210,
  211,
  212,
  213,
  214,
  215,
  216,
  217,
  218,
  219,
  220,
  221,
  222,
  223,
  224,
  225,
  226,
  227,
  228,
  229,
  230,
  231,
  232,
  233,
  234,
  235,
  236,
  237,
  238,
  239,
  255,
  268,
  285,
  288,
  290,
  304,
  320,
  321,
  322,
  324,
  325,
  326,
  329,
  330,
  331,
  332,
  333,
  334,
  335,
  336,
  338,
  340,
  341,
  342,
  343,
  344,
  350,
  352,
  358,
  359,
  360,
  361,
  362,
  363,
  364,
  366,
  367,
  368,
  369,
  370,
  371,
  372,
  379,
  446,
  447,
  448,
  449,
  450,
  451,
  452,
  453,
  454,
  455,
  456,
  457,
  458,
  459,
  471,
  473,
  474,
  475,
  476,
  477,
  478,
  479,
  480,
  482,
  483,
  494,
  503,
  512,
  513,
  514,
  516,
  517,
  518,
  519,
  520,
  522,
  524,
  525,
  526,
  527,
  558,
  562,
  584,
  585,
  587,
  589,
  597,
  598,
  599,
  600,
  601,
  602,
  603,
  604,
  605,
  606,
  607,
  608,
  612,
  613,
  614,
  615,
  616,
  617,
  618,
  619,
  620,
  621,
  622,
  623,
  624,
  625,
  628,
  629,
  630,
  631,
  632,
  634,
  635,
  636,
  637,
  638,
  639,
  640,
  641,
  642,
  645,
  655,
  656,
  657,
  658,
  659,
  660,
  661,
  662,
  663,
  664,
  665,
  666,
  667,
  668,
  669,
  670,
  678,
  681,
  682,
  685,
  686,
  689,
  691,
  694,
  698,
  699,
  700,
  701,
  702,
  703,
  727,
  728,
  729,
  730,
  731,
  732,
  733,
  734,
  736,
  737,
  738,
  741,
  742,
  748,
  749,
  750,
  751,
  752,
  753,
  754,
  756,
  757,
  758,
  759,
  760,
  761,
  762,
  763,
  764,
  765,
  767,
  768,
  769,
  770,
  771,
  772,
  773,
  774,
  776,
  786,
  787,
  788,
  789,
  790,
  791,
  792,
  793,
  794,
  805,
  811,
  812,
  836,
  837,
  838,
  840,
  841,
  850,
  851,
  852,
  853,
  855,
  882,
  885,
  886,
  887,
  888,
  889,
  892,
  899,
  905,
  906,
  907,
  908,
  909,
  910,
  911,
  917,
  918,
  919,
  920,
  923,
  928,
  929,
  930,
  931,
  932,
  934,
  936,
  942,
  943,
  944,
  948,
  950,
  951,
  952,
  953,
  957,
  961,
  964,
  968,
  973,
  974,
  980,
  981,
  982,
  983,
  997],
 1: [5,
  9,
  28,
  29,
  30,
  33,
  34,
  35,
  36,
  37,
  38,
  39,
  40,
  41,
  42,
  43,
  44,
  45,
  46,
  47,
  49,
  50,
  51,
  52,
  53,
  54,
  55,
  56,
  57,
  58,
  59,
  60,
  61,
  62,
  63,
  64,
  66,
  67,
  68,
  69,
  70,
  71,
  72,
  73,
  74,
  75,
  76,
  77,
  78,
  86,
  90,
  102,
  103,
  106,
  107,
  108,
  109,
  110,
  111,
  112,
  113,
  114,
  115,
  116,
  117,
  118,
  119,
  120,
  122,
  123,
  149,
  150,
  151,
  152,
  153,
  154,
  155,
  156,
  157,
  158,
  159,
  160,
  161,
  162,
  163,
  164,
  165,
  166,
  167,
  168,
  171,
  172,
  173,
  175,
  176,
  177,
  178,
  179,
  180,
  181,
  195,
  240,
  241,
  242,
  243,
  244,
  246,
  247,
  248,
  250,
  251,
  252,
  253,
  254,
  256,
  257,
  258,
  259,
  261,
  262,
  263,
  264,
  265,
  266,
  267,
  269,
  270,
  271,
  273,
  274,
  275,
  276,
  277,
  278,
  279,
  280,
  281,
  282,
  283,
  284,
  286,
  287,
  289,
  291,
  293,
  294,
  295,
  296,
  297,
  298,
  299,
  310,
  323,
  328,
  339,
  345,
  346,
  347,
  348,
  349,
  351,
  353,
  354,
  355,
  356,
  357,
  365,
  373,
  374,
  375,
  376,
  377,
  378,
  380,
  381,
  382,
  383,
  384,
  385,
  386,
  387,
  388,
  389,
  390,
  391,
  392,
  393,
  394,
  395,
  396,
  398,
  417,
  426,
  427,
  428,
  429,
  430,
  441,
  460,
  461,
  462,
  463,
  464,
  465,
  466,
  467,
  468,
  469,
  470,
  472,
  481,
  484,
  485,
  486,
  487,
  488,
  500,
  501,
  502,
  504,
  505,
  506,
  508,
  509,
  510,
  511,
  515,
  523,
  528,
  529,
  531,
  532,
  533,
  534,
  535,
  536,
  537,
  538,
  545,
  552,
  553,
  554,
  555,
  556,
  557,
  559,
  560,
  561,
  563,
  564,
  565,
  566,
  567,
  569,
  586,
  626,
  633,
  672,
  673,
  674,
  675,
  676,
  677,
  679,
  680,
  684,
  704,
  705,
  706,
  709,
  716,
  717,
  718,
  719,
  720,
  735,
  739,
  743,
  744,
  745,
  746,
  747,
  755,
  766,
  775,
  777,
  778,
  779,
  780,
  783,
  784,
  785,
  795,
  796,
  797,
  799,
  800,
  807,
  808,
  809,
  810,
  813,
  814,
  815,
  816,
  817,
  818,
  819,
  820,
  821,
  825,
  829,
  833,
  834,
  835,
  839,
  842,
  843,
  844,
  845,
  846,
  847,
  848,
  856,
  857,
  858,
  862,
  865,
  866,
  868,
  869,
  870,
  875,
  876,
  877,
  881,
  883,
  884,
  890,
  891,
  898,
  900,
  904,
  916,
  922,
  924,
  925,
  926,
  933,
  945,
  946,
  947,
  956,
  958,
  959,
  960,
  962,
  965,
  966,
  967,
  975,
  976,
  984,
  985,
  989,
  991,
  993,
  998],
 2: [16,
  48,
  65,
  84,
  121,
  124,
  125,
  126,
  127,
  128,
  129,
  130,
  131,
  132,
  133,
  134,
  135,
  136,
  137,
  138,
  139,
  140,
  141,
  142,
  143,
  144,
  145,
  146,
  147,
  148,
  170,
  174,
  182,
  184,
  185,
  186,
  187,
  188,
  189,
  190,
  191,
  192,
  193,
  194,
  196,
  197,
  198,
  199,
  200,
  201,
  204,
  209,
  245,
  249,
  260,
  272,
  292,
  300,
  301,
  302,
  303,
  305,
  306,
  307,
  308,
  309,
  311,
  312,
  313,
  314,
  315,
  316,
  317,
  318,
  319,
  327,
  337,
  397,
  399,
  400,
  401,
  402,
  403,
  404,
  405,
  406,
  407,
  408,
  409,
  410,
  411,
  412,
  413,
  414,
  415,
  416,
  418,
  419,
  420,
  421,
  422,
  423,
  424,
  425,
  431,
  432,
  433,
  434,
  435,
  436,
  437,
  438,
  439,
  440,
  442,
  443,
  444,
  445,
  489,
  490,
  491,
  492,
  493,
  495,
  496,
  497,
  498,
  499,
  507,
  521,
  530,
  539,
  540,
  541,
  542,
  543,
  544,
  546,
  547,
  548,
  549,
  550,
  551,
  568,
  570,
  571,
  572,
  573,
  574,
  575,
  576,
  577,
  578,
  579,
  580,
  581,
  582,
  583,
  588,
  590,
  591,
  592,
  593,
  594,
  595,
  596,
  609,
  610,
  611,
  627,
  643,
  644,
  646,
  647,
  648,
  649,
  650,
  651,
  652,
  653,
  654,
  671,
  683,
  687,
  688,
  690,
  692,
  693,
  695,
  696,
  697,
  707,
  708,
  710,
  711,
  712,
  713,
  714,
  715,
  721,
  722,
  723,
  724,
  725,
  726,
  740,
  781,
  782,
  798,
  801,
  802,
  803,
  804,
  806,
  822,
  823,
  824,
  826,
  827,
  828,
  830,
  831,
  832,
  849,
  854,
  859,
  860,
  861,
  863,
  864,
  867,
  871,
  872,
  873,
  874,
  878,
  879,
  880,
  893,
  894,
  895,
  896,
  897,
  901,
  902,
  903,
  912,
  913,
  914,
  915,
  921,
  927,
  935,
  937,
  938,
  939,
  940,
  941,
  949,
  954,
  955,
  963,
  969,
  970,
  971,
  972,
  977,
  978,
  979,
  986,
  987,
  988,
  990,
  992,
  994,
  995,
  996,
  999]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">idxs_louvain</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">community_pred</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">idxs_louvain</span><span class="p">][:,</span> <span class="n">idxs_louvain</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;antialiased&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7fa4301884c0&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_198_1.png" src="_images/fail_delete_later_198_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">community_pred</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: [0,
  1,
  2,
  3,
  4,
  6,
  7,
  8,
  10,
  11,
  12,
  13,
  14,
  15,
  17,
  18,
  19,
  20,
  21,
  22,
  23,
  24,
  25,
  26,
  27,
  31,
  32,
  79,
  80,
  81,
  82,
  83,
  85,
  87,
  88,
  89,
  91,
  92,
  93,
  94,
  95,
  96,
  97,
  98,
  99,
  100,
  101,
  104,
  105,
  169,
  183,
  202,
  203,
  205,
  206,
  207,
  208,
  210,
  211,
  212,
  213,
  214,
  215,
  216,
  217,
  218,
  219,
  220,
  221,
  222,
  223,
  224,
  225,
  226,
  227,
  228,
  229,
  230,
  231,
  232,
  233,
  234,
  235,
  236,
  237,
  238,
  239,
  255,
  268,
  285,
  288,
  290,
  304,
  320,
  321,
  322,
  324,
  325,
  326,
  329,
  330,
  331,
  332,
  333,
  334,
  335,
  336,
  338,
  340,
  341,
  342,
  343,
  344,
  350,
  352,
  358,
  359,
  360,
  361,
  362,
  363,
  364,
  366,
  367,
  368,
  369,
  370,
  371,
  372,
  379,
  446,
  447,
  448,
  449,
  450,
  451,
  452,
  453,
  454,
  455,
  456,
  457,
  458,
  459,
  471,
  473,
  474,
  475,
  476,
  477,
  478,
  479,
  480,
  482,
  483,
  494,
  503,
  512,
  513,
  514,
  516,
  517,
  518,
  519,
  520,
  522,
  524,
  525,
  526,
  527,
  558,
  562,
  584,
  585,
  587,
  589,
  597,
  598,
  599,
  600,
  601,
  602,
  603,
  604,
  605,
  606,
  607,
  608,
  612,
  613,
  614,
  615,
  616,
  617,
  618,
  619,
  620,
  621,
  622,
  623,
  624,
  625,
  628,
  629,
  630,
  631,
  632,
  634,
  635,
  636,
  637,
  638,
  639,
  640,
  641,
  642,
  645,
  655,
  656,
  657,
  658,
  659,
  660,
  661,
  662,
  663,
  664,
  665,
  666,
  667,
  668,
  669,
  670,
  678,
  681,
  682,
  685,
  686,
  689,
  691,
  694,
  698,
  699,
  700,
  701,
  702,
  703,
  727,
  728,
  729,
  730,
  731,
  732,
  733,
  734,
  736,
  737,
  738,
  741,
  742,
  748,
  749,
  750,
  751,
  752,
  753,
  754,
  756,
  757,
  758,
  759,
  760,
  761,
  762,
  763,
  764,
  765,
  767,
  768,
  769,
  770,
  771,
  772,
  773,
  774,
  776,
  786,
  787,
  788,
  789,
  790,
  791,
  792,
  793,
  794,
  805,
  811,
  812,
  836,
  837,
  838,
  840,
  841,
  850,
  851,
  852,
  853,
  855,
  882,
  885,
  886,
  887,
  888,
  889,
  892,
  899,
  905,
  906,
  907,
  908,
  909,
  910,
  911,
  917,
  918,
  919,
  920,
  923,
  928,
  929,
  930,
  931,
  932,
  934,
  936,
  942,
  943,
  944,
  948,
  950,
  951,
  952,
  953,
  957,
  961,
  964,
  968,
  973,
  974,
  980,
  981,
  982,
  983,
  997],
 1: [5,
  9,
  28,
  29,
  30,
  33,
  34,
  35,
  36,
  37,
  38,
  39,
  40,
  41,
  42,
  43,
  44,
  45,
  46,
  47,
  49,
  50,
  51,
  52,
  53,
  54,
  55,
  56,
  57,
  58,
  59,
  60,
  61,
  62,
  63,
  64,
  66,
  67,
  68,
  69,
  70,
  71,
  72,
  73,
  74,
  75,
  76,
  77,
  78,
  86,
  90,
  102,
  103,
  106,
  107,
  108,
  109,
  110,
  111,
  112,
  113,
  114,
  115,
  116,
  117,
  118,
  119,
  120,
  122,
  123,
  149,
  150,
  151,
  152,
  153,
  154,
  155,
  156,
  157,
  158,
  159,
  160,
  161,
  162,
  163,
  164,
  165,
  166,
  167,
  168,
  171,
  172,
  173,
  175,
  176,
  177,
  178,
  179,
  180,
  181,
  195,
  240,
  241,
  242,
  243,
  244,
  246,
  247,
  248,
  250,
  251,
  252,
  253,
  254,
  256,
  257,
  258,
  259,
  261,
  262,
  263,
  264,
  265,
  266,
  267,
  269,
  270,
  271,
  273,
  274,
  275,
  276,
  277,
  278,
  279,
  280,
  281,
  282,
  283,
  284,
  286,
  287,
  289,
  291,
  293,
  294,
  295,
  296,
  297,
  298,
  299,
  310,
  323,
  328,
  339,
  345,
  346,
  347,
  348,
  349,
  351,
  353,
  354,
  355,
  356,
  357,
  365,
  373,
  374,
  375,
  376,
  377,
  378,
  380,
  381,
  382,
  383,
  384,
  385,
  386,
  387,
  388,
  389,
  390,
  391,
  392,
  393,
  394,
  395,
  396,
  398,
  417,
  426,
  427,
  428,
  429,
  430,
  441,
  460,
  461,
  462,
  463,
  464,
  465,
  466,
  467,
  468,
  469,
  470,
  472,
  481,
  484,
  485,
  486,
  487,
  488,
  500,
  501,
  502,
  504,
  505,
  506,
  508,
  509,
  510,
  511,
  515,
  523,
  528,
  529,
  531,
  532,
  533,
  534,
  535,
  536,
  537,
  538,
  545,
  552,
  553,
  554,
  555,
  556,
  557,
  559,
  560,
  561,
  563,
  564,
  565,
  566,
  567,
  569,
  586,
  626,
  633,
  672,
  673,
  674,
  675,
  676,
  677,
  679,
  680,
  684,
  704,
  705,
  706,
  709,
  716,
  717,
  718,
  719,
  720,
  735,
  739,
  743,
  744,
  745,
  746,
  747,
  755,
  766,
  775,
  777,
  778,
  779,
  780,
  783,
  784,
  785,
  795,
  796,
  797,
  799,
  800,
  807,
  808,
  809,
  810,
  813,
  814,
  815,
  816,
  817,
  818,
  819,
  820,
  821,
  825,
  829,
  833,
  834,
  835,
  839,
  842,
  843,
  844,
  845,
  846,
  847,
  848,
  856,
  857,
  858,
  862,
  865,
  866,
  868,
  869,
  870,
  875,
  876,
  877,
  881,
  883,
  884,
  890,
  891,
  898,
  900,
  904,
  916,
  922,
  924,
  925,
  926,
  933,
  945,
  946,
  947,
  956,
  958,
  959,
  960,
  962,
  965,
  966,
  967,
  975,
  976,
  984,
  985,
  989,
  991,
  993,
  998],
 2: [16,
  48,
  65,
  84,
  121,
  124,
  125,
  126,
  127,
  128,
  129,
  130,
  131,
  132,
  133,
  134,
  135,
  136,
  137,
  138,
  139,
  140,
  141,
  142,
  143,
  144,
  145,
  146,
  147,
  148,
  170,
  174,
  182,
  184,
  185,
  186,
  187,
  188,
  189,
  190,
  191,
  192,
  193,
  194,
  196,
  197,
  198,
  199,
  200,
  201,
  204,
  209,
  245,
  249,
  260,
  272,
  292,
  300,
  301,
  302,
  303,
  305,
  306,
  307,
  308,
  309,
  311,
  312,
  313,
  314,
  315,
  316,
  317,
  318,
  319,
  327,
  337,
  397,
  399,
  400,
  401,
  402,
  403,
  404,
  405,
  406,
  407,
  408,
  409,
  410,
  411,
  412,
  413,
  414,
  415,
  416,
  418,
  419,
  420,
  421,
  422,
  423,
  424,
  425,
  431,
  432,
  433,
  434,
  435,
  436,
  437,
  438,
  439,
  440,
  442,
  443,
  444,
  445,
  489,
  490,
  491,
  492,
  493,
  495,
  496,
  497,
  498,
  499,
  507,
  521,
  530,
  539,
  540,
  541,
  542,
  543,
  544,
  546,
  547,
  548,
  549,
  550,
  551,
  568,
  570,
  571,
  572,
  573,
  574,
  575,
  576,
  577,
  578,
  579,
  580,
  581,
  582,
  583,
  588,
  590,
  591,
  592,
  593,
  594,
  595,
  596,
  609,
  610,
  611,
  627,
  643,
  644,
  646,
  647,
  648,
  649,
  650,
  651,
  652,
  653,
  654,
  671,
  683,
  687,
  688,
  690,
  692,
  693,
  695,
  696,
  697,
  707,
  708,
  710,
  711,
  712,
  713,
  714,
  715,
  721,
  722,
  723,
  724,
  725,
  726,
  740,
  781,
  782,
  798,
  801,
  802,
  803,
  804,
  806,
  822,
  823,
  824,
  826,
  827,
  828,
  830,
  831,
  832,
  849,
  854,
  859,
  860,
  861,
  863,
  864,
  867,
  871,
  872,
  873,
  874,
  878,
  879,
  880,
  893,
  894,
  895,
  896,
  897,
  901,
  902,
  903,
  912,
  913,
  914,
  915,
  921,
  927,
  935,
  937,
  938,
  939,
  940,
  941,
  949,
  954,
  955,
  963,
  969,
  970,
  971,
  972,
  977,
  978,
  979,
  986,
  987,
  988,
  990,
  992,
  994,
  995,
  996,
  999]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">community</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: [0,
  3,
  9,
  10,
  16,
  17,
  19,
  26,
  28,
  32,
  33,
  40,
  42,
  44,
  45,
  46,
  49,
  50,
  53,
  54,
  56,
  62,
  63,
  65,
  66,
  67,
  68,
  69,
  70,
  75,
  76,
  77,
  89,
  90,
  94,
  95,
  107,
  109,
  116,
  117,
  119,
  123,
  128,
  131,
  132,
  133,
  137,
  138,
  143,
  144,
  146,
  150,
  151,
  153,
  155,
  156,
  161,
  167,
  170,
  171,
  174,
  175,
  176,
  177,
  183,
  184,
  186,
  187,
  188,
  190,
  191,
  194,
  196,
  197,
  200,
  210,
  211,
  212,
  215,
  216,
  219,
  221,
  223,
  226,
  228,
  232,
  234,
  237,
  239,
  240,
  242,
  243,
  244,
  246,
  250,
  251,
  252,
  255,
  257,
  258,
  259,
  261,
  263,
  266,
  270,
  272,
  276,
  279,
  281,
  294,
  295,
  297,
  300,
  302,
  306,
  309,
  311,
  312,
  314,
  316,
  318,
  324,
  328,
  332,
  339,
  344,
  348,
  349,
  350,
  359,
  361,
  362,
  363,
  364,
  365,
  367,
  375,
  382,
  386,
  387,
  389,
  391,
  393,
  394,
  402,
  403,
  404,
  405,
  406,
  409,
  410,
  414,
  417,
  418,
  423,
  426,
  428,
  436,
  437,
  438,
  442,
  444,
  446,
  447,
  448,
  453,
  455,
  463,
  470,
  476,
  483,
  485,
  487,
  493,
  494,
  497,
  498,
  501,
  502,
  503,
  514,
  517,
  520,
  521,
  524,
  527,
  529,
  536,
  537,
  538,
  539,
  545,
  550,
  551,
  552,
  554,
  556,
  557,
  558,
  564,
  565,
  566,
  567,
  568,
  572,
  585,
  586,
  587,
  589,
  590,
  594,
  598,
  603,
  604,
  606,
  608,
  610,
  613,
  618,
  619,
  621,
  622,
  623,
  624,
  626,
  629,
  631,
  633,
  638,
  641,
  644,
  647,
  653,
  656,
  661,
  662,
  663,
  669,
  675,
  677,
  678,
  681,
  693,
  694,
  699,
  703,
  705,
  706,
  707,
  708,
  709,
  710,
  714,
  718,
  719,
  722,
  723,
  724,
  727,
  728,
  729,
  730,
  731,
  739,
  745,
  746,
  748,
  749,
  755,
  759,
  763,
  764,
  767,
  776,
  779,
  784,
  790,
  793,
  795,
  796,
  801,
  802,
  803,
  804,
  805,
  815,
  817,
  819,
  821,
  823,
  828,
  835,
  838,
  839,
  840,
  849,
  851,
  854,
  855,
  856,
  857,
  860,
  864,
  869,
  874,
  875,
  876,
  878,
  881,
  883,
  885,
  888,
  892,
  893,
  895,
  896,
  897,
  902,
  904,
  907,
  908,
  909,
  912,
  916,
  918,
  927,
  932,
  934,
  935,
  936,
  937,
  938,
  939,
  941,
  946,
  948,
  951,
  953,
  954,
  958,
  960,
  963,
  964,
  969,
  970,
  973,
  975,
  982,
  984,
  992,
  993,
  997,
  998,
  999],
 1: [1,
  2,
  4,
  6,
  7,
  11,
  12,
  13,
  14,
  18,
  20,
  21,
  24,
  27,
  29,
  31,
  34,
  36,
  37,
  51,
  52,
  57,
  58,
  60,
  64,
  71,
  72,
  74,
  78,
  81,
  83,
  84,
  85,
  88,
  91,
  92,
  93,
  96,
  97,
  99,
  101,
  102,
  103,
  105,
  106,
  108,
  111,
  112,
  113,
  121,
  122,
  124,
  126,
  127,
  136,
  139,
  140,
  141,
  149,
  154,
  157,
  158,
  159,
  160,
  162,
  163,
  164,
  165,
  168,
  169,
  178,
  179,
  180,
  189,
  192,
  195,
  198,
  199,
  202,
  204,
  205,
  206,
  208,
  209,
  214,
  218,
  224,
  225,
  227,
  233,
  236,
  238,
  247,
  249,
  253,
  254,
  260,
  262,
  264,
  267,
  269,
  271,
  273,
  277,
  283,
  285,
  288,
  291,
  296,
  303,
  304,
  305,
  307,
  310,
  313,
  315,
  317,
  319,
  320,
  321,
  325,
  329,
  330,
  331,
  334,
  336,
  337,
  338,
  341,
  345,
  346,
  347,
  352,
  353,
  354,
  356,
  360,
  366,
  371,
  372,
  374,
  376,
  377,
  379,
  381,
  385,
  392,
  395,
  396,
  398,
  399,
  400,
  401,
  408,
  415,
  420,
  421,
  424,
  429,
  430,
  431,
  434,
  435,
  441,
  445,
  449,
  450,
  452,
  454,
  456,
  457,
  458,
  461,
  462,
  464,
  468,
  474,
  475,
  478,
  480,
  482,
  488,
  491,
  492,
  495,
  500,
  504,
  505,
  507,
  510,
  512,
  515,
  516,
  518,
  519,
  523,
  526,
  530,
  531,
  533,
  534,
  535,
  540,
  542,
  543,
  548,
  553,
  560,
  562,
  569,
  571,
  574,
  575,
  576,
  578,
  581,
  582,
  591,
  593,
  595,
  596,
  597,
  599,
  600,
  601,
  602,
  605,
  607,
  609,
  612,
  617,
  625,
  627,
  628,
  634,
  635,
  636,
  637,
  642,
  643,
  646,
  648,
  650,
  651,
  652,
  654,
  655,
  660,
  664,
  665,
  670,
  672,
  673,
  679,
  680,
  682,
  684,
  685,
  687,
  689,
  692,
  696,
  697,
  698,
  701,
  702,
  712,
  713,
  716,
  721,
  725,
  732,
  735,
  738,
  740,
  742,
  743,
  744,
  747,
  750,
  751,
  753,
  754,
  758,
  762,
  766,
  769,
  772,
  774,
  775,
  777,
  778,
  780,
  785,
  786,
  788,
  789,
  797,
  798,
  799,
  806,
  811,
  812,
  813,
  818,
  822,
  824,
  826,
  827,
  833,
  834,
  837,
  841,
  842,
  843,
  844,
  845,
  847,
  852,
  858,
  859,
  861,
  862,
  866,
  873,
  879,
  882,
  886,
  889,
  891,
  898,
  899,
  900,
  901,
  903,
  905,
  913,
  915,
  919,
  920,
  921,
  923,
  924,
  926,
  929,
  930,
  931,
  933,
  944,
  945,
  947,
  950,
  955,
  956,
  961,
  962,
  965,
  966,
  971,
  972,
  974,
  978,
  979,
  986,
  987,
  988,
  991,
  996],
 2: [5,
  8,
  15,
  22,
  23,
  25,
  30,
  35,
  38,
  39,
  41,
  43,
  47,
  48,
  55,
  59,
  61,
  73,
  79,
  80,
  82,
  86,
  87,
  98,
  100,
  104,
  110,
  114,
  115,
  118,
  120,
  125,
  129,
  130,
  134,
  135,
  142,
  145,
  147,
  148,
  152,
  166,
  172,
  173,
  181,
  182,
  185,
  193,
  201,
  203,
  207,
  213,
  217,
  220,
  222,
  229,
  230,
  231,
  235,
  241,
  245,
  248,
  256,
  265,
  268,
  274,
  275,
  278,
  280,
  282,
  284,
  286,
  287,
  289,
  290,
  292,
  293,
  298,
  299,
  301,
  308,
  322,
  323,
  326,
  327,
  333,
  335,
  340,
  342,
  343,
  351,
  355,
  357,
  358,
  368,
  369,
  370,
  373,
  378,
  380,
  383,
  384,
  388,
  390,
  397,
  407,
  411,
  412,
  413,
  416,
  419,
  422,
  425,
  427,
  432,
  433,
  439,
  440,
  443,
  451,
  459,
  460,
  465,
  466,
  467,
  469,
  471,
  472,
  473,
  477,
  479,
  481,
  484,
  486,
  489,
  490,
  496,
  499,
  506,
  508,
  509,
  511,
  513,
  522,
  525,
  528,
  532,
  541,
  544,
  546,
  547,
  549,
  555,
  559,
  561,
  563,
  570,
  573,
  577,
  579,
  580,
  583,
  584,
  588,
  592,
  611,
  614,
  615,
  616,
  620,
  630,
  632,
  639,
  640,
  645,
  649,
  657,
  658,
  659,
  666,
  667,
  668,
  671,
  674,
  676,
  683,
  686,
  688,
  690,
  691,
  695,
  700,
  704,
  711,
  715,
  717,
  720,
  726,
  733,
  734,
  736,
  737,
  741,
  752,
  756,
  757,
  760,
  761,
  765,
  768,
  770,
  771,
  773,
  781,
  782,
  783,
  787,
  791,
  792,
  794,
  800,
  807,
  808,
  809,
  810,
  814,
  816,
  820,
  825,
  829,
  830,
  831,
  832,
  836,
  846,
  848,
  850,
  853,
  863,
  865,
  867,
  868,
  870,
  871,
  872,
  877,
  880,
  884,
  887,
  890,
  894,
  906,
  910,
  911,
  914,
  917,
  922,
  925,
  928,
  940,
  942,
  943,
  949,
  952,
  957,
  959,
  967,
  968,
  976,
  977,
  980,
  981,
  983,
  985,
  989,
  990,
  994,
  995]}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="load-ca-data">
<h1>Load Ca data<a class="headerlink" href="#load-ca-data" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keywords</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ca&#39;</span><span class="p">,</span> <span class="s1">&#39;ses-1&#39;</span><span class="p">,</span> <span class="s1">&#39;sub-SLC06&#39;</span><span class="p">,</span> <span class="s1">&#39;rest&#39;</span><span class="p">]</span>
<span class="n">run_duration</span> <span class="o">=</span> <span class="mi">600</span>   <span class="c1"># 600 seconds</span>
<span class="n">ca_fs</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">exclude</span> <span class="o">=</span> <span class="mi">60</span>

<span class="n">ca</span> <span class="o">=</span> <span class="n">load_ca_data</span><span class="p">(</span>
    <span class="n">config</span><span class="o">=</span><span class="n">ProcessConfig</span><span class="p">(),</span>
    <span class="n">keywords</span><span class="o">=</span><span class="n">keywords</span><span class="p">,</span>
    <span class="n">ca_fs</span><span class="o">=</span><span class="n">ca_fs</span><span class="p">,</span>
    <span class="n">run_duration</span><span class="o">=</span><span class="n">run_duration</span><span class="p">,</span>
    <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data from 4 runs loaded:

[&#39;sub-SLC06_ses-1_run-1_task-rest_ca.npy&#39;,
 &#39;sub-SLC06_ses-1_run-3_task-rest_ca.npy&#39;,
 &#39;sub-SLC06_ses-1_run-5_task-rest_ca.npy&#39;,
 &#39;sub-SLC06_ses-1_run-7_task-rest_ca.npy&#39;]

--&gt;  60 s  &lt;-- excluded from the beginning of each run. Combined runs duration:

00 - 00:36:00  (dd - hh:mm:ss)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ca</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(190, 186, 21600)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">ca</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">data</span> <span class="o">-=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x7f2c341255e0&gt;
</pre></div>
</div>
<img alt="_images/fail_delete_later_212_1.png" src="_images/fail_delete_later_212_1.png" />
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Hadi Vafaii<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>